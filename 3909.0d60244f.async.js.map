{"version":3,"sources":["webpack://windvane/./src/services/publicServices.ts","webpack://windvane/./src/utils/functions.ts"],"names":["uploadImg","base64","request","requestBasePath","method","body","data","productionOnOrOutLine","params","stringify","commontOnOrOutLine","useGetUserDetail","userId","isValidating","mutate","userInfo","userInfoLoading","refreshUser","useGetUserCommontNum","UserCommontNum","TransKvData","useGetCommontCount","requestBody","CommontCount","TransAdventureKvData","isHighQuality","setHighQuality","appId","APP_ID","cancleHighQualityComment","useGetCommontList","commontList","useMemo","list","commontIds","item","movieId","subjectId","commentUserId","commontCountLoading","pagination","useGetProductionGroupDetail","dramaIds","productionGroupDetail","detailLoading","useGetProductionDetail","dramaId","productionDetail","useGetAdjustGrade","adjustGrade","useGetAdjustComment","subjectType","adjustComment","addPraiseNum","getProductionList","listId","process","domain","configToken","linkLoginUrl","quitSystem","cookie","window","frames","length","parent","postMessage","logout","location","href","encodeURIComponent","pathname","getRequestParams","formatParams","key","undefined","value","kvData","keys","longKey","pre","getBase64","file","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","backTop","currentScroll","document","documentElement","scrollTop","scrollTo"],"mappings":"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","file":"3909.0d60244f.async.js","sourcesContent":["import { stringify } from 'qs';\nimport useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport cookie from '@/utils/cookie.js';\nimport { ProductionOnOrOutLineInfo, CommontItem } from '@/types/types';\nimport { TransKvData, TransAdventureKvData } from '@/utils/functions';\nimport { useMemo } from 'react';\nimport { APP_ID } from '@/utils/constant.js';\nimport _ from 'lodash-es';\n\nimport { requestBasePath } from '@/services/login';\n\n// 上传图片\nexport function uploadImg(base64: string) {\n  return request(`${ requestBasePath }/ucms/api/resource/upload`, {\n    method: 'POST',\n    body: { data: base64 },\n  });\n}\n\n// 作品上下线 /wind-vane-backend/drama/operate/changeDramaOnlineStatus\nexport function productionOnOrOutLine(params: ProductionOnOrOutLineInfo) {\n  return request(\n    `${ requestBasePath }/wingvate/wind-vane-backend/drama/operate/changeDramaOnlineStatus?${ stringify(\n      params\n    ) }`\n  );\n}\n\n// 用户上下线 /wind-vane-backend/user/changeUserStatus\nexport function userOnOrOutLine(params: any) {\n  return request(\n    `${ requestBasePath }/wingvate/wind-vane-backend/user/changeUserStatus?${ stringify(\n      params\n    ) }`\n  );\n}\n\n// 评论上下线 /wind-vane-backend/checkComment  /auditComment\nexport function commontOnOrOutLine(params: any) {\n  return request(\n    `${ requestBasePath }/comment/auditComment?${ stringify(params) }`\n  );\n}\n\n// 根据用户id查询用户详细信息 /wind-vane-backend/user/getUserInformationById\nexport function useGetUserDetail(userId?: string) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   userId\n  //     ? `${ requestBasePath }/wingvate/wind-vane-backend/user/getUserInformationById?userId=${ userId }`\n  //     : null\n  // );\n\n    const data = {\n      \"code\": 200,\n      \"level\": 200,\n      \"message\": \"success\",\n      \"description\": \"\",\n      \"data\": {\n        \"id\": null,\n        \"status\": 1,\n        \"userId\": \"694239520336590035v\",\n        \"unionId\": \"6942395203365900357\",\n        \"roleTypes\": [\"common\"],\n        \"roleType\": \"common\",\n        \"appId\": \"ifeng-wind-vane\",\n        \"userName\": \"6942395203365900357\",\n        \"nickName\": \"橙子\",\n        \"registerFrom\": \"weChatApplet\",\n        \"phoneNumberBinding\": \"nothing\",\n        \"weChatBinding\": \"nothing\",\n        \"aliBinding\": \"nothing\",\n        \"ifengBinding\": \"nothing\",\n        \"userAvatar\": \"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqoqCCafSuHeb5kYgnzbYNDVoUMCpibLGt5df0icRjUicVmiagQEU5iaHJ6atHJCXlJkiaUdYt84vWIiaib7g/132\",\n        \"userDescription\": \"nothing\",\n        \"createTime\": 1655207919575,\n        \"updateTime\": 1655444355399\n      },\n      \"succeed\": true,\n      \"msg\": \"success\"\n    }\n  const isValidating = false\n  const mutate = () => { }\n\n  return {\n    userInfo: data?.data || {},\n    userInfoLoading: isValidating,\n    refreshUser: mutate,\n  };\n}\n\n// 获取指定用户的评论总数 /wind-vane-backend/statistics/user/comment/total\nexport function useGetUserCommontNum(params: string[]) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   params?.length\n  //     ? [\n  //       `${ requestBasePath }/wingvate/wind-vane-backend/statistics/user/comment/total`,\n  //       params,\n  //     ]\n  //     : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: params,\n  //     },\n  //   }\n  // );\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": [{\n      \"userId\": \"6841299663245549619\",\n      \"commentTotal\": 2\n    }, {\n      \"userId\": \"6841299663300071441\",\n      \"commentTotal\": 51\n    }, {\n      \"userId\": \"6942395203365900357\",\n      \"commentTotal\": 8\n    }],\n    \"succeed\": true,\n    \"msg\": \"success\"\n  };\n\n  const isValidating = false;\n  const mutate = () => { };\n\n  return {\n    UserCommontNum: TransKvData(data?.data || [], 'userId', 'commentTotal'),\n    isValidating,\n    mutate,\n  };\n}\n\n// 批量获取评分\nexport function useGetCommontCount(requestBody: any) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody?.length\n  //     ? [\n  //       `${ requestBasePath }/comment/batchQueryMovieGrade`,\n  //       JSON.stringify(requestBody),\n  //     ]\n  //     : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody,\n  //     },\n  //   }\n  // );\n\n    const data = {\n      \"code\": 200,\n      \"level\": 200,\n      \"message\": \"success\",\n      \"data\": [{\n        \"id\": \"77666c4e-22a5-4cd3-b5e2-2bf0006ef14a\",\n        \"createTime\": \"2022-06-23T17:35:25\",\n        \"updateTime\": \"2022-06-23T17:38:11\",\n        \"movieGrade\": 7,\n        \"movieId\": \"6841299653275684897\",\n        \"commentUserId\": \"6923116002918015031\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"0bdc9fd1-9438-4cb2-a494-f18b15dcfb9f\",\n        \"createTime\": \"2022-06-23T17:39:54\",\n        \"updateTime\": null,\n        \"movieGrade\": 7,\n        \"movieId\": \"6841299653275684905\",\n        \"commentUserId\": \"6923116002918015031\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"b19f014d-5abc-4e10-93e5-91cf55ecee14\",\n        \"createTime\": \"2022-06-24T14:48:19\",\n        \"updateTime\": null,\n        \"movieGrade\": 8,\n        \"movieId\": \"6841299661978865683\",\n        \"commentUserId\": \"6942395203365900357\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"1adb3cf0-71c7-4210-a5b9-c81070a3644a\",\n        \"createTime\": \"2022-06-24T17:04:00\",\n        \"updateTime\": null,\n        \"movieGrade\": 3,\n        \"movieId\": \"6945309547955228744\",\n        \"commentUserId\": \"6815260744779571235\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"a9cec473-d0b2-4e49-a567-30e065765008\",\n        \"createTime\": \"2022-06-24T17:04:00\",\n        \"updateTime\": null,\n        \"movieGrade\": 1,\n        \"movieId\": \"6945309547955228744\",\n        \"commentUserId\": \"6815260880259784747\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"a8f139e0-406a-4a0f-be4e-c9dc7b217a2f\",\n        \"createTime\": \"2022-06-23T19:40:00\",\n        \"updateTime\": null,\n        \"movieGrade\": 2,\n        \"movieId\": \"6945309547955228744\",\n        \"commentUserId\": \"6815260987206148117\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"3982a683-84b3-4517-b9a4-7c15bb9e3fd4\",\n        \"createTime\": \"2022-06-23T18:08:00\",\n        \"updateTime\": null,\n        \"movieGrade\": 4,\n        \"movieId\": \"6945309547955228744\",\n        \"commentUserId\": \"6815261067111833651\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }, {\n        \"id\": \"02d90ed0-1e04-4e7a-96a1-0e2bf4e8d479\",\n        \"createTime\": \"2022-06-23T16:46:00\",\n        \"updateTime\": null,\n        \"movieGrade\": 10,\n        \"movieId\": \"6945309547955228744\",\n        \"commentUserId\": \"6923116002918015031\",\n        \"commentUserRank\": \"common\",\n        \"subjectType\": \"default\"\n      }]\n    }\n\n    const isValidating = false\n  const mutate = () => { }\n\n  return {\n    CommontCount: TransAdventureKvData(\n      data?.data || [],\n      'movieGrade',\n      'commentUserId',\n      'movieId'\n    ),\n    isHighQuality: TransAdventureKvData(\n      data?.data || [],\n      'isHighQuality',\n      'commentUserId',\n      'movieId'\n    ),\n    isValidating,\n    mutate,\n  };\n}\n\n// 评论打分 //updateHighQualityComment\nexport function setHighQuality(params: any) {\n  return request(`${ requestBasePath }/comment/updateHighQualityComment`, {\n    method: 'POST',\n    body: { data: { ...params, appId: APP_ID } },\n  });\n}\n\n// 取消优质评论 updateHighQualityComment\nexport function cancleHighQualityComment(params: any) {\n  return request(`${ requestBasePath }/comment/updateHighQualityComment`, {\n    method: 'POST',\n    body: { data: { ...params, appId: APP_ID } },\n  });\n}\n\n// 评论列表 /queryCommentForPage\nexport function useGetCommontList(params: any) {\n  // const { query = {}, pagination, sort } = params || {};\n\n  // const { data, isValidating, mutate } = useSWR(\n  //   Object.keys(query)?.length\n  //     ? [`${ requestBasePath }/comment/queryCommentForPage`, params]\n  //     : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: {\n  //         pagination,\n  //         query: {\n  //           rootId: 0, // 仅获取根评论\n  //           ...query,\n  //           appId: APP_ID,\n  //         },\n  //         sort,\n  //       },\n  //     },\n  //   }\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"data\": {\n      \"pagination\": {\n        \"current\": \"1\",\n        \"total\": \"0\",\n        \"pageSize\": \"2\"\n      },\n      \"list\": []\n    }\n  };\n\n  const isValidating = false;\n  const mutate = () => { };\n\n  const commontList = useMemo(() => {\n    return data?.data?.list || [];\n  }, [data]);\n  const commontIds = useMemo(() => {\n    return commontList.map((item: CommontItem) => ({\n      movieId: item?.subjectId,\n      commentUserId: item?.commentUserId,\n    }));\n  }, [commontList]);\n  const {\n    CommontCount,\n    isValidating: commontCountLoading,\n    isHighQuality,\n  } = useGetCommontCount(commontIds);\n\n  return {\n    commontList,\n    pagination: data?.data?.pagination || {},\n    isValidating: isValidating || commontCountLoading,\n    CommontCount: CommontCount || {},\n    mutate,\n    isHighQuality,\n  };\n}\n\n// 通过id进行批量获取作品映射信息 GET  /wind-vane-backend/drama/query/batchGetDramaContentById\nexport function useGetProductionGroupDetail(dramaIds: any[]) {\n  // const filmList = dramaIds.filter((item) => item.subjectType === 'listContent');\n  // const prodectionList = dramaIds.filter((item) => item.subjectType !== 'listContent');\n\n  // const ids = [...new Set(prodectionList.map((d) => d.subjectId) || [])];\n  // const { data, isValidating, mutate } = useSWR(\n  //   ids?.length\n  //     ? [\n  //       `${ requestBasePath }/wingvate/wind-vane-backend/drama/query/batchGetDramaContentById`,\n  //       ids.join(','),\n  //     ]\n  //     : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: { dramaIdList: ids },\n  //     },\n  //   }\n  // );\n  // const filmIds = [...new Set(filmList.map((d) => d.subjectId) || [])];\n  // const { data: dataFilms = {}, isValidating: loading } = useSWR(\n  //   filmIds?.length\n  //     ? [\n  //       `${ requestBasePath }/wingvate/wind-vane-backend/public/list/query/batchGet`,\n  //       filmIds.join(','),\n  //     ]\n  //     : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: filmIds,\n  //     },\n  //   }\n  // );\n\n\n  // const groupFilm = _.groupBy(dataFilms.data, 'list_id');\n\n  // for (const i in groupFilm) {\n  //   groupFilm[i] = groupFilm[i].length ? groupFilm[i][0] : {};\n  // }\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": [{\n      \"list_id\": \"6942453087697117255\",\n      \"title\": \"剋可爱\",\n      \"cover_image_url\": \"https://x0.ifengimg.com/ucms/2022_25/F48F7E1F75EF0171B85F441E65171F47F4A1C979_size25_w300_h300.jpg\",\n      \"description\": \"可爱\",\n      \"tmp_title\": \"剋可爱\",\n      \"tmp_cover_image_url\": \"https://x0.ifengimg.com/ucms/2022_25/F48F7E1F75EF0171B85F441E65171F47F4A1C979_size25_w300_h300.jpg\",\n      \"tmp_description\": \"可爱\",\n      \"type\": 1,\n      \"default_flag\": 0,\n      \"online_status\": 1,\n      \"audit_status\": 100,\n      \"audit_reason\": null,\n      \"audit_version\": null,\n      \"visibility\": 1,\n      \"creator_id\": \"6816546784735662149\",\n      \"create_time\": \"2022-06-15T14:32:27\",\n      \"operator\": \"jiajx3\",\n      \"update_time\": \"2022-06-15T14:32:34\",\n      \"source\": \"backend\",\n      \"online_source\": \"default\"\n    }],\n    \"succeed\": true,\n    \"msg\": \"success\"\n  };\n\n  const isValidating = false;\n  const mutate = () => { };\n  return {\n    productionGroupDetail: {\n      ...data?.data,\n      // ...groupFilm\n    } || {},\n    detailLoading: isValidating,\n    mutate,\n  };\n}\n\n// 根据作品id查询作品内容 GET  /wind-vane-backend/drama/query/getDramaContentById\nexport function useGetProductionDetail(dramaId: string) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   dramaId\n  //     ? [\n  //       `${ requestBasePath }/wingvate/wind-vane-backend/drama/query/getDramaContentById?dramaId=${ dramaId }`,\n  //       dramaId,\n  //     ]\n  //     : null\n  // );\n\n  // return {\n  //   productionDetail: data?.data || {},\n  //   detailLoading: isValidating,\n  //   mutate,\n  // };\n\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": {\n      \"status\": 1,\n      \"dramaId\": \"6946047772109836387\",\n      \"title\": \"我是测试分哈哈哈哈\",\n      \"category\": \"tv-play\",\n      \"platform\": \"[]\",\n      \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/A38CBAC877EB335986F31F925398E7321C18C031_size1055_w1035_h1035.png\\\"]\",\n      \"description\": \"飞凤飞飞\",\n      \"onlineStatus\": 1,\n      \"publicScore\": 8.4,\n      \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourHalfStarCount\\\":100,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":0,\\\"threeHalfStarCount\\\":0,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":0}\",\n      \"performanceScore\": 0.0,\n      \"commentTotal\": 0,\n      \"commentPeople\": 0,\n      \"publicScorePeople\": 100,\n      \"performanceScorePeople\": 0,\n      \"searchHeat\": 0,\n      \"operator\": \"sunyf1\",\n      \"topDeadline\": 1656314418164,\n      \"showTime\": 1655740799999,\n      \"finishTime\": 1656431999999,\n      \"createTime\": 1656314446000,\n      \"updateTime\": 1656314940000\n    },\n    \"succeed\": true,\n    \"msg\": \"success\"\n  };\n  const isValidating = false\n  const mutate = ()=>{}\n\n  return {\n    productionDetail: data?.data || {},\n    detailLoading: isValidating,\n    mutate,\n  };\n}\n\n// 查询灌评数据 /queryAdjustGrade\nexport function useGetAdjustGrade(subjectId: string) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   subjectId\n  //     ? [\n  //       `${ requestBasePath }/comment/queryAdjustGrade?subjectId=${ subjectId }`,\n  //       subjectId,\n  //     ]\n  //     : null\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"data\": null\n  };\n  const isValidating = false;\n  const mutate = () => { };\n\n  return {\n    adjustGrade: data?.data || {},\n    isValidating,\n    mutate,\n  };\n}\n\n// 查询灌评评论数据 /queryAdjustComment\nexport function useGetAdjustComment(subjectId: string, subjectType = 'default') {\n  // const { data, isValidating, mutate } = useSWR(\n  //   subjectId\n  //     ? [\n  //       `${ requestBasePath }/comment/queryAdjustComment?subjectId=${ subjectId }&appId=${ APP_ID }&subjectType=${subjectType}`,\n  //       subjectId,\n  //     ]\n  //     : null\n  // );\n\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"data\": {\n      \"subjectId\": \"6946047772109836387\",\n      \"subjectType\": \"default\",\n      \"status\": 1,\n      \"appId\": \"wxae1b8c979eebd164\",\n      \"adjustStartTime\": \"2022-07-04T15:19:13\",\n      \"adjustEndTime\": \"2022-07-04T21:19:13\",\n      \"updateTime\": \"2022-07-04T15:19:12\",\n      \"adjustTime\": null,\n      \"commentSource\": \"excel\",\n      \"commentFileUrl\": \"http://x0.ifengimg.com/cmpp/2022_28/d34241be249709b.xlsx\",\n      \"commentText\": null,\n      \"opUser\": \"sunyf1\"\n    }\n  }\n  const isValidating = false\n  const mutate = ()=>{}\n\n  return {\n    adjustComment: data?.data || {},\n    isValidating,\n    mutate,\n  };\n}\n\n// 修改评论点赞数接口 /updateCommentLikeCount\nexport function addPraiseNum(params: any) {\n  return request(\n    `${ requestBasePath }/comment/updateCommentLikeCount?${ stringify(params) }`\n  );\n}\n\n// 片单列表查询搜索 POST  /wind-vane-backend/public/list/query/getListsByCondition\nexport function getProductionList(listId: any) {\n  // return request(\n  //   `${ requestBasePath }/wingvate/wind-vane-backend/public/list/query/getListContentById?listId=${ listId }`\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": {\n      \"listId\": \"6949611253794873419\",\n      \"title\": \"hi\",\n      \"coverImageUrl\": \"https://x0.ifengimg.com/ucms/2022_26/847E4FA4EA50C1038F741CC99B341AA9733331A5_size41_w318_h318.png\",\n      \"description\": null,\n      \"type\": 2,\n      \"creatorId\": \"6942820186655301653\",\n      \"operator\": \"6942820186655301653\",\n      \"onlineStatus\": 0,\n      \"defaultFlag\": 0,\n      \"visibility\": 1,\n      \"auditStatus\": 22,\n      \"followTotal\": 0,\n      \"dramaTotal\": 0,\n      \"createTimeLong\": 1656925468000,\n      \"updateTimeLong\": 1656925468000,\n      \"commentTotal\": 0,\n      \"userAvatar\": \"https://thirdwx.qlogo.cn/mmopen/vi_32/7hsTKSE9wTFVoMHmJYA6VPlhGZcOumSysAhVovuInpwrz7JSSjRsSeUMaIhbIzx5slnkfDemibeNbK4Qzvxdndw/132\",\n      \"nickName\": \"小羊驼驼驼驼驼驼驼驼驼\",\n      \"userDescription\": \"nothing\",\n      \"dramas\": null\n    },\n    \"succeed\": true,\n    \"msg\": \"success\"\n  }\n  return data\n}\n","import cookie from '@/utils/cookie.js';\nimport { MapItem } from '@/types/types';\n\nconst { domain, configToken, linkLoginUrl } = process['CONFIG'];\n\nexport function getSecTime(timeRange: [string, string]): [number, number] {\n  const getSec = (time: string) => Math.floor(Date.parse(time) / 1000); // 后端按秒计算\n\n  return [getSec(timeRange[0]), getSec(timeRange[1])];\n}\n\nexport function quitSystem() {\n  cookie.remove(configToken, { domain });\n  // 判断是不是在iframe里边\n  if (window.frames.length !== window.parent.frames.length) {\n    window.parent.postMessage({ logout: true }, '*');\n  }\n  window.location.href = `${ linkLoginUrl }?url=${ encodeURIComponent(location.pathname) }`;\n}\n\n// 处理请求参数，移除不存在的数据\nexport function getRequestParams(params: any) {\n  const formatParams = {};\n\n  for (const key in params) {\n    if (params[key] !== undefined) {\n      formatParams[key] = params[key];\n    }\n  }\n\n  return formatParams;\n}\n\n// 处理请求参数\nexport function getRequestParamsString(params: any) {\n  const paramsArr = Object.keys(params).filter((r: string) => params[r]).map((key: string) => {\n    if (params[key]) {\n      return `${ key }=${ params[key] }`;\n    }\n  });\n\n  return paramsArr.join('&');\n}\n\nexport function addAll(list: MapItem[]) {\n  const arr = [...list];\n  const index = arr.findIndex(({ value, label }: MapItem) => label === '全部');\n\n  if (index < 0) {\n    list.unshift({ value: '', label: '全部' });\n  }\n\n  return arr;\n}\n\nexport function TransKvData(list: any[], key: string, value: string) {\n  const kvData = {};\n\n  list.forEach((item: any) => {\n    kvData[item[key]] = item[value];\n  });\n\n  return kvData;\n}\n\nexport function TransAdventureKvData(list: any[], value: string, ...keys: string[]) {\n  const kvData = {};\n\n  list.forEach((item: any) => {\n    const longKey = keys?.reduce((pre: string, key: string) => (pre + item[key]), '');\n\n    kvData[longKey] = item[value];\n  });\n\n  return kvData;\n}\n\nexport function getBase64(file: File) {\n  return new Promise((resolve: any, reject: any,) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error: any) => reject(error);\n  });\n}\n\nexport function backTop() {\n  const currentScroll = document.documentElement.scrollTop || document.body.scrollTop;\n\n  if (currentScroll > 0) {\n    // window.requestAnimationFrame(smoothscroll);\n    window.scrollTo (0, 0);\n  }\n}"],"sourceRoot":""}