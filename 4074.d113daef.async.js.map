{"version":3,"sources":["webpack://windvane/./src/components/index.less?d340","webpack://windvane/./src/components/AddPraiseNum.tsx","webpack://windvane/./src/components/CommonItem.tsx","webpack://windvane/./src/components/ChildCommontList.tsx","webpack://windvane/./src/components/CommonItemWrap.tsx","webpack://windvane/./src/components/miniComponents.tsx","webpack://windvane/./src/pages/UserManage/BlackList/services.ts","webpack://windvane/./src/utils/util.ts"],"names":["module","exports","AddPraiseNum","props","common","refresh","useState","addNum","setAddNum","handleAdd","useCallback","async","res","addPraiseNum","id","subjectId","likeCount","code","message","undefined","error","className","style","precision","value","onChange","addonAfter","PlusOutlined","onClick","verticalMiddle","verticalAlign","flexStyle","display","justifyContent","CommonItem","showBlackBtn","showProductionName","showExpertIdentity","moreRender","hiddenUser","productionGroupDetail","CommontCount","extra","hiddenrRate","commontUser","isHighQuality","getCommontStatus","hiddenAddPraise","status","useGetUserDetail","commentUserId","userInfo","refreshUser","commentUserRank","useMemo","user","roleTypes","isPourCommont","commentSource","size","src","commentUserImgSrc","icon","UserOutlined","to","commentUserName","title","userDescription","UserLevel","userLevel","subjectType","disabled","allowHalf","String","moment","createTime","format","checkStatus","checkUserId","checkFinshTime","isEnter","comment","isListContent","subjectName","width","useName","notGoodComment","commentId","commont","PAGESIZE","ChildCommontList","rootId","handleHiddenChild","initSearch","showChildCommont","pagination","pageSize","current","query","searchParams","setSearchParams","useGetCommontList","commontList","isValidating","mutate","handleChangePage","preParams","tip","spinning","item","index","total","Number","showTotal","showQuickJumper","CommonItemWrap","setShowChildCommont","useEffect","handleShowChild","hasChildCommont","commentCount","Online","color","Outline","ProductionOutline","production","isOnline","onlineStatus","handleOnOrOutLine","productionOnOrOutLine","dramaId","placement","onConfirm","okText","cancelText","danger","type","CommontOutline","commontOnOrOutLine","console","log","GoodComment","currentScore","currentLevel","showModel","setShowModel","changeScore","setChangeScore","level","setLevel","score","useRef","handleCancle","cancleHighQualityComment","isHighQualityStatus","hideModal","handleToGood","setHighQuality","rate","inputChange","e","temp","inputChangedDebounce","debounce","visible","onOk","onCancel","span","min","UserStatus","isExpert","UserBlack","enterBlackList","typeContent","businessId","description","nickName","category","content","userId","outBlackList","idList","ProductionAdjustStatus","isCol","useGetAdjustGrade","adjustGrade","text","opUser","marginLeft","BUSINESS_ID","params","request","requestBasePath","method","body","useGetBlackList","requestBody","data","blackList","list","func","wait","imme","timer","apply","this","arguments","clearTimeout"],"mappings":"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","file":"4074.d113daef.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chunkTitle\":\"_2pr8FO\",\"chunkTitleText\":\"_EHsePZ\",\"commonItem\":\"_3LVpDJ\",\"productionImg\":\"_35t7Sc\",\"productionInfo\":\"_3eCvkM\",\"productionInfoText\":\"_qHn3fA\",\"expertIdentity\":\"_1Iwkzp\",\"userCommontHead\":\"_3NP8X5\",\"userCommontInfoW\":\"_245GOa\",\"userCommontInfo\":\"_3V2svW\",\"ChildCommontListWrap\":\"_Y_2DaH\",\"footerPage\":\"_HdL8xY\",\"showChild\":\"_pZexIE\",\"showChildText\":\"_1ut6DW\",\"commontPre\":\"_3tC4Kh\",\"AddPraiseNum\":\"_2PTttn\",\"AddPraiseNumBtn\":\"_21QG_I\",\"pourCommont\":\"_1nhAUO\",\"goodComment\":\"_16yqxu\"};","import React, { FC, useCallback, useState, useRef } from 'react';\nimport { InputNumber, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Link } from 'umi';\nimport { CommontItem } from '@/types/types';\nimport style from './index.less';\nimport { addPraiseNum } from '@/services/publicServices';\n\ninterface Props{\n  common: CommontItem;\n  refresh?: () => void;\n}\n\nconst AddPraiseNum = (props: Props) => {\n  const { common, refresh } = props;\n  const [addNum, setAddNum] = useState();\n\n  const handleAdd = useCallback(async () => {\n    try {\n      const res = await addPraiseNum({\n        id: common?.id,\n        subjectId: common?.subjectId,\n        likeCount: addNum,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n        setAddNum(undefined);\n      }\n    } catch (error) {\n      message.error(error?.message);\n    }\n  }, [addNum, common, refresh]);\n  \n  return (\n    <div>\n      <span>点赞数：{common?.likeCount || 0} </span>\n      <InputNumber className={ style.AddPraiseNum }\n        precision={ 0 }\n        value={ addNum }\n        onChange={ setAddNum }\n        addonAfter={ <PlusOutlined className={ style.AddPraiseNumBtn } onClick={ handleAdd } /> }\n      />\n    </div>\n  );\n};\n\nexport default AddPraiseNum;\n","import { css } from '@emotion/core';\nimport React, { ReactElement, FC, useMemo, useCallback, useState } from 'react';\nimport { Avatar, Space, Rate, Button } from 'antd';\nimport { CommontItem } from '@/types/types';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Link } from 'umi';\nimport moment from 'moment';\nimport { useGetUserDetail } from '@/services/publicServices';\nimport {\n  Online,\n  Outline,\n  CommontOutline,\n  UserBlack,\n  GoodComment,\n} from './miniComponents';\nimport style from './index.less';\nimport AddPraiseNum from './AddPraiseNum';\nimport { UserLevel, docType, isListContent } from '@/utils/constant';\n\nconst verticalMiddle = { verticalAlign: 'middle' };\nconst flexStyle = {\n  display: 'flex',\n  justifyContent: 'space-between',\n};\n\nexport interface CommonItemProps {\n  common: CommontItem;\n  showBlackBtn?: boolean;\n  showProductionName?: boolean;\n  showExpertIdentity?: boolean;\n  moreRender?: any;\n  hiddenUser?: boolean;\n  refresh?: () => void;\n  productionGroupDetail?: any;\n  CommontCount?: any;\n  extra?: any;\n  hiddenrRate?: boolean;\n  commontUser?: any;\n  hiddenAddPraise?: boolean;\n  isHighQuality?: any;\n  subjectType?: string;\n}\n\nconst CommonItem: FC<CommonItemProps> = (props: CommonItemProps) => {\n  const {\n    common,\n    showBlackBtn,\n    showProductionName,\n    showExpertIdentity,\n    moreRender,\n    hiddenUser,\n    refresh,\n    productionGroupDetail,\n    CommontCount,\n    extra,\n    hiddenrRate,\n    isHighQuality = {},\n    commontUser,\n    hiddenAddPraise,\n  } = props;\n\n  const getCommontStatus = useCallback((status: number) => {\n    switch (status) {\n      case 0:\n        return <span>待审核</span>;\n      case 1:\n        return <Online style={ verticalMiddle } />;\n      case 2:\n        return <Outline style={ verticalMiddle } />;\n    }\n  }, []);\n\n  const { userInfo, refreshUser } = useGetUserDetail(\n    showExpertIdentity || showBlackBtn ? common?.commentUserId : undefined\n  );\n  const commentUserRank = useMemo(() => {\n    const user = commontUser || userInfo;\n\n    return user?.roleTypes?.indexOf('expert') >= 0 ? 'expert' : 'common';\n  }, [commontUser, userInfo]);\n\n  // 是否灌评\n  const isPourCommont = useMemo(() => {\n    return common?.commentSource === 4;\n  }, [common]);\n\n  return (\n    <>\n      <div className={ style.commonItem }>\n        <Space size={ 15 }>\n          {hiddenUser ? null : (\n            <>\n              <Avatar style={ verticalMiddle }\n                src={ common?.commentUserImgSrc }\n                icon={ <UserOutlined /> }\n              />\n              <Link style={ verticalMiddle }\n                to={ `/user-manage/user/${ common?.commentUserId }` }\n              >\n                {common?.commentUserName}\n              </Link>\n            </>\n          )}\n          {showExpertIdentity ? (\n            <span className={ style.expertIdentity }\n              title={ userInfo?.userDescription || '' }\n            >\n              {userInfo?.userDescription || ''}\n            </span>\n          ) : null}\n          {/* <span>{userInfo?.rewardPoint || 0}分</span> */}\n          <span>{UserLevel[userInfo?.userLevel || 1]}</span>\n          {hiddenrRate ? (\n            ''\n          ) : (\n            common?.subjectType !== 'listContent'\n              ? <Rate style={ verticalMiddle }\n                disabled={ true }\n                allowHalf={ true }\n                value={\n                common?.id\n                && CommontCount[\n                  common?.commentUserId + String(common?.subjectId)\n                ]\n                && (CommontCount[\n                  common?.commentUserId + String(common?.subjectId)\n                ]\n                  * 5)\n                  / 10\n                }\n              /> : ''\n          )}\n          <span style={ verticalMiddle }>\n            {moment(common?.createTime).format('YYYY/MM/DD HH:mm')}\n          </span>\n          <span>\n            {getCommontStatus(common?.checkStatus)}\n            {common?.checkUserId\n              ? ` ( 操作人:${ common?.checkUserId }，  操作时间:${ moment(\n                  common?.checkFinshTime\n              ).format('YYYY/MM/DD HH:mm') } )`\n              : null}\n          </span>\n          {showBlackBtn ? (\n            <UserBlack user={ userInfo } refresh={ refreshUser } isEnter={ true } />\n          ) : null}\n          {moreRender}\n          {/* {hiddenAddPraise ? undefined : <AddPraiseNum common={ common } refresh={ refresh } />} */}\n          <AddPraiseNum common={ common } refresh={ refresh } />\n          {isPourCommont ? (\n            <span className={ style.pourCommont }>灌</span>\n          ) : undefined}\n          {common?.isHighQuality == 1 && (\n            <span className={ style.goodComment }>\n              优\n              {/* {isHighQuality[common?.commentUserId + String(common?.subjectId)]}\n              分 */}\n            </span>\n          )}\n        </Space>\n        <pre className={ style.commontPre }>{common?.comment}</pre>\n        <div style={ flexStyle }>\n          <div>\n            {showProductionName ? (\n              isListContent(common?.subjectType) ? (\n                <span>《\n                  {(productionGroupDetail[common?.subjectId]\n                  && productionGroupDetail[common?.subjectId]?.title)\n                  || common?.subjectName}\n                  》\n                </span>\n              ) : (\n                <Link to={ `/commont-manage/production/${ common?.subjectId }?commentUserRank=${ commentUserRank }` }\n                >\n                  《\n                  {(productionGroupDetail[common?.subjectId]\n                    && productionGroupDetail[common?.subjectId]?.title)\n                    || common?.subjectName}\n                  》\n                </Link>\n              )\n            ) : null}\n          </div>\n          <div style={ Object.assign({}, flexStyle, { width: '200px' }) }>\n            <GoodComment useName={ common.commentUserName || '' }\n              notGoodComment={\n                common?.isHighQuality == 0 ? true : false\n              }\n              commentId={ common?.id }\n              subjectId={ common?.subjectId }\n              subjectType={ common?.subjectType }\n              refresh={ refresh }\n            />\n\n            <div>\n              {common?.checkStatus === 0 ? null : (\n                <CommontOutline commont={ common } refresh={ refresh } />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      {extra}\n    </>\n  );\n};\n\nexport default CommonItem;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { Pagination, Spin } from 'antd';\nimport CommonItem from './CommonItem';\nimport { useGetCommontList } from '@/services/publicServices';\nimport style from './index.less';\n\nconst PAGESIZE = 10;\n\nexport interface Props {\n  subjectId: string;\n  rootId: string;\n  handleHiddenChild: () => void;\n  showChildCommont?: boolean;\n}\n\nconst ChildCommontList = (props: any) => {\n  const { subjectId, rootId, handleHiddenChild, showChildCommont } = props;\n\n  const initSearch = useMemo(() => {\n    return {\n      pagination: { pageSize: PAGESIZE, current: 1 },\n      query: {\n        subjectId,\n        rootId,\n      }\n    };\n  }, [rootId, subjectId]);\n  \n  const [searchParams, setSearchParams] = useState(initSearch);\n  const { commontList, pagination, isValidating, mutate, CommontCount } = useGetCommontList(searchParams);\n\n  // 前页展开，后页默认展开\n  // useEffect(() => {\n  //   setSearchParams(initSearch);\n  // }, [initSearch]);\n\n  const handleChangePage = useCallback((current: number) => {\n    setSearchParams((preParams: any) => ({\n      ...preParams,\n      pagination: { pageSize: PAGESIZE, current },\n    }));\n  }, []);\n\n\n  return (\n    <div className={ style.ChildCommontListWrap }>\n      <Spin tip=\"加载中...\" spinning={ isValidating }>\n        <div className={ style.CommontList }>\n          {commontList?.map((item: any, index: number) => {\n            return <CommonItem showBlackBtn={ true } hiddenrRate={ true } key={ index } common={ item } CommontCount={ CommontCount } refresh={ mutate } />;\n          })}\n          <div className={ style.footerPage }>\n            <a onClick={ handleHiddenChild }>点击收起子评论</a>\n            <Pagination size=\"small\"\n              total={ Number(pagination?.total) }\n              showTotal={ (total: number) => `总计 ${ total } 条` }\n              pageSize={ Number(pagination?.pageSize || PAGESIZE) }\n              current={ Number(pagination?.current) }\n              showQuickJumper={ true }\n              onChange={ handleChangePage }\n            />\n          </div>\n        </div>\n      </Spin>\n    </div>\n  );\n};\n\nexport default ChildCommontList;\n","import { css } from '@emotion/core';\nimport React, { ReactElement, FC, useMemo, useCallback, useState, useEffect } from 'react';\nimport { CommontItem } from '@/types/types';\nimport ChildCommontList from '@/components/ChildCommontList';\nimport style from './index.less';\nimport CommonItem, { CommonItemProps } from './CommonItem';\n\nconst verticalMiddle = { verticalAlign: 'middle' };\nconst flexStyle = {\n  display: 'flex',\n  justifyContent: 'space-between'\n};\n\nconst CommonItemWrap: FC<CommonItemProps> = (props: CommonItemProps) => {\n  const { common } = props;\n  const [showChildCommont, setShowChildCommont] = useState(false);\n\n  useEffect(() => {\n    setShowChildCommont(false);\n  }, [common]);\n\n  const handleShowChild = useCallback(() => {\n    setShowChildCommont(true);\n  }, []);\n  const handleHiddenChild = useCallback(() => {\n    setShowChildCommont(false);\n  }, []);\n\n  const hasChildCommont = useMemo(() => {\n    return common?.commentCount > 0;\n  }, [common]);\n\n  const extra = useMemo(() => {\n\n    return showChildCommont\n      ? <ChildCommontList subjectId={ common?.subjectId } rootId={ common?.id } handleHiddenChild={ handleHiddenChild } />\n      : (\n        <p className={ style.showChild }>\n          <span onClick={ handleShowChild } className={ style.showChildText }>点击查看子评论</span>\n        </p>);\n    // return (\n    //   <>\n    //     {!showChildCommont\n    //       ? <p className={ style.showChild }>\n    //         <span onClick={ handleShowChild } className={ style.showChildText }>点击查看子评论</span>\n    //       </p>\n    //       : null\n    //     }\n    //     <ChildCommontList showChildCommont={ showChildCommont } subjectId={ common?.subjectId } rootId={ common?.id } handleHiddenChild={ handleHiddenChild } />\n    //   </>\n    // );\n  }, [common, handleHiddenChild, handleShowChild, showChildCommont]);\n\n  return (\n    <CommonItem { ...props } extra={ hasChildCommont ? extra : null } />\n  );\n};\n\nexport default CommonItemWrap;\n","import React, { FC, useCallback, useState, useRef, useMemo } from 'react';\nimport {\n  Button,\n  message,\n  Popconfirm,\n  Modal,\n  Row,\n  Col,\n  InputNumber,\n} from 'antd';\nimport {\n  productionOnOrOutLine,\n  userOnOrOutLine,\n  commontOnOrOutLine,\n  useGetAdjustGrade,\n  setHighQuality,\n  cancleHighQualityComment,\n} from '@/services/publicServices';\nimport {\n  enterBlackList,\n  outBlackList,\n  BUSINESS_ID,\n} from '@/pages/UserManage/BlackList/services';\nimport {\n  ProductionDetailInfo,\n  UserDetailInfo,\n  CommontDetailInfo,\n} from '@/types/types';\nimport { debounce } from '@/utils/util';\n\nfunction Online() {\n  return <span style={{ color: '#333', verticalAlign: 'middle' }}>上线</span>;\n}\nfunction Outline() {\n  return <span style={{ color: 'red', verticalAlign: 'middle' }}>下线</span>;\n}\n\n// 作品上下线\ninterface ProductionOutlineProps {\n  production: ProductionDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction ProductionOutline(props: ProductionOutlineProps) {\n  const { production, refresh, style } = props;\n  const isOnline = useMemo(() => {\n    return production?.onlineStatus === 1;\n  }, [production]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await productionOnOrOutLine({\n        dramaId: production?.dramaId,\n        onlineStatus: isOnline ? 0 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, production, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该作品吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 用户上下线\ninterface UserOutlineProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserOutline(props: UserOutlineProps) {\n  const { user, refresh, style, isExpert } = props;\n  const isOnline = useMemo(() => {\n    return user?.status === 1;\n  }, [user]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await userOnOrOutLine({\n        userId: user?.userId,\n        status: isOnline ? 110 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      // title={ isExpert\n      //   ? `确认将该专家设置为 ${ isOnline ? '封禁' : '正常' } 吗`\n      //   : `确认将 ${ isOnline ? '移入' : '移出' } 黑名单吗` }\n      title={ `确认将该用户设置为 ${ isOnline ? '封禁' : '正常' } 状态吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          封禁\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          正常\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 评论上下线\ninterface CommontOutlineProps {\n  commont: CommontDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction CommontOutline(props: CommontOutlineProps) {\n  const { commont, refresh, style, subjectType = 'default' } = props;\n  const isOnline = useMemo(() => {\n    return commont?.checkStatus === 1;\n  }, [commont]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await commontOnOrOutLine({\n        commentId: commont?.id,\n        subjectId: commont?.subjectId,\n        checkStatus: isOnline ? 2 : 1,\n        subjectType,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  }, [isOnline, commont, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该评论吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 优质评论\nfunction GoodComment(props) {\n  const {\n    notGoodComment,\n    useName,\n    currentScore = 0,\n    currentLevel = 'lv.1',\n    commentId,\n    subjectId,\n    subjectType = '',\n    refresh,\n  } = props;\n  const [showModel, setShowModel] = useState(false);\n  const [changeScore, setChangeScore] = useState(currentScore);\n  const [level, setLevel] = useState(currentLevel);\n  const score = useRef(0);\n  const handleCancle = async () => {\n    // 取消优质评论\n    try {\n      await cancleHighQualityComment({\n        id: commentId,\n        subjectId,\n        isHighQualityStatus: false,\n        subjectType,\n      });\n    } catch (error) {\n      message.error('评优失败，请稍后再试');\n    }\n    refresh();\n  };\n\n  const hideModal = () => {\n    setShowModel(false);\n  };\n\n  const handleToGood = useCallback(async () => {\n    setTimeout(async () => {\n      try {\n        await setHighQuality({\n          id: commentId,\n          subjectId,\n          isHighQualityStatus: true,\n          rate: score.current,\n          subjectType,\n        });\n        message.success('操作成功');\n      } catch (error) {\n        message.error('评优失败，请稍后再试');\n      }\n\n      hideModal();\n      refresh();\n    }, 0);\n  }, []);\n\n  const show = () => {\n    setShowModel(true);\n  };\n\n  const inputChange = useCallback((e) => {\n    const temp = parseInt(currentScore + e);\n\n    if (temp <= 300) {\n      setLevel('lv.1');\n    } else if (temp <= 900) {\n      setLevel('lv.2');\n    } else if (temp <= 1900) {\n      setLevel('lv.3');\n    } else if (temp <= 3100) {\n      setLevel('lv.4');\n    } else {\n      setLevel('lv.5');\n    }\n    setChangeScore(temp);\n    score.current = temp;\n  }, []);\n\n  const inputChangedDebounce = useCallback(\n    debounce(inputChange, 600, false),\n    []\n  );\n\n  return (\n    <div>\n      {notGoodComment ? (\n        <Popconfirm placement=\"topLeft\"\n          title=\"确认该评论为优质吗？\"\n          onConfirm={ handleToGood }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>优质</Button>\n        </Popconfirm>\n      ) : (\n        // <Button type=\"primary\" onClick={show}>\n        //   优质\n        // </Button>\n        <Popconfirm placement=\"topRight\"\n          title=\"确认取消该评论的优质吗？\"\n          onConfirm={ handleCancle }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>取消优质</Button>\n        </Popconfirm>\n      )}\n      <Modal title={ `设置${ useName }的评论为优质` }\n        visible={ showModel }\n        onOk={ handleToGood }\n        onCancel={ hideModal }\n        okText=\"确认\"\n        cancelText=\"取消\"\n      >\n        <Row>\n          <Col span={ 6 }>当前积分：</Col>\n          <Col span={ 8 }>{currentScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>增加优质积分：</Col>\n          <Col span={ 8 }>\n            <InputNumber min={ 1 }\n              onChange={ inputChangedDebounce }\n              style={{ width: '200px' }}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计积分：</Col>\n          <Col span={ 8 }>{changeScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计等级：</Col>\n          <Col span={ 8 }>{level}</Col>\n        </Row>\n      </Modal>\n    </div>\n  );\n}\n\n// 用户状态\ninterface UserStatusProps {\n  status: number;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserStatus(props: UserStatusProps) {\n  const { status, style, isExpert } = props;\n\n  return status === 1 ? (\n    <span style={ style }>正常</span>\n  ) : (\n    <span style={{ color: 'red', ...style }}>封禁</span>\n  );\n  // {isExpert ? '禁用' : '黑名单'}\n}\n\n// 用户 黑名单\ninterface UserBlackProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isEnter?: boolean; // 移入黑名单\n}\nfunction UserBlack(props: UserBlackProps) {\n  const { user, refresh, style, isEnter } = props;\n\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      let res: any = {};\n\n      if (isEnter) {\n        res = await enterBlackList({\n          typeContent: '黑名单',\n          businessId: 'com_wind_vane',\n          description: user?.nickName,\n          category: 'userId',\n          content: user?.userId,\n        });\n      } else {\n        res = await outBlackList({\n          idList: [user.id],\n        });\n      }\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      } else {\n        message.error(res?.message || '服务器出问题啦');\n      }\n    } catch (error) {}\n  }, [isEnter, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认将该用户 ${ isEnter ? '移入' : '移出' } 黑名单吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isEnter ? (\n        <Button danger={ true } style={ style }>\n          移入黑名单\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          移出黑名单\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 作品调控状态\ninterface ProductionAdjustStatusProps {\n  subjectId: string;\n  style?: any;\n  isCol?: boolean;\n}\nfunction ProductionAdjustStatus(props: ProductionAdjustStatusProps) {\n  const { isCol, style, subjectId } = props;\n  const { adjustGrade, isValidating } = useGetAdjustGrade(subjectId);\n  const text = useMemo(() => {\n    switch (adjustGrade?.status) {\n      case 0:\n        return <span style={ style }>调控完成</span>;\n      case 1:\n        return <span style={{ color: '#1890ff', ...style }}>调控中</span>;\n      default:\n        return <span style={ style }>未调控</span>;\n    }\n  }, [adjustGrade?.status]);\n\n  return (\n    <>\n      {text}\n      {isCol\n        ? adjustGrade?.opUser && (\n        <p style={{ color: '#999' }}>{adjustGrade?.opUser || ''}最新调控</p>\n      )\n        : adjustGrade?.opUser && (\n        <span style={{ marginLeft: 8 }}>\n          ({adjustGrade?.opUser || ''}最新调控)\n        </span>\n      )}\n    </>\n  );\n}\n\nexport {\n  Online,\n  Outline,\n  ProductionOutline,\n  UserOutline,\n  CommontOutline,\n  UserStatus,\n  ProductionAdjustStatus,\n  UserBlack,\n  GoodComment,\n};\n","import { stringify } from 'qs';\nimport useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport cookie from '@/utils/cookie.js';\n\nimport { requestBasePath } from '@/services/login';\n\nexport const BUSINESS_ID = 'com_wind_vane';\n\n\n// 移入黑名单 POST  http://test0.galio.ifeng.com/api/picus-namelist/addNameList\nexport function enterBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/addNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 移出黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/removeNameList\nexport function outBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/removeNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 查询黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/queryNameList\nexport function useGetBlackList(requestBody: any) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody ? [`${ requestBasePath }/blackList/api/picus-namelist/queryNameList`, requestBody] : null, {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody\n  //     }\n  //   }\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"msg\": \"success\",\n    \"data\": {\n      \"pagination\": {\n        \"current\": 1,\n        \"total\": 1,\n        \"pageSize\": 10,\n        \"countPage\": 1\n      },\n      \"sort\": {\n        \"type\": \"desc\",\n        \"key\": \"createTime\"\n      },\n      \"list\": [{\n        \"typeContent\": \"黑名单\",\n        \"createTime\": \"2022-04-25 10:44:09\",\n        \"businessId\": \"com_wind_vane\",\n        \"description\": \"Honeycomb\",\n        \"updateTime\": \"2022-04-25 10:44:09\",\n        \"id\": 882941,\n        \"category\": \"userId\",\n        \"deadline\": \"2122-04-25 10:44:09\",\n        \"content\": \"6903959929825005666\",\n        \"operator\": \"maoliang\",\n        \"status\": 1\n      }]\n    }\n  }\n  const isValidating = false\n  const mutate = () => { }\n\n  return {\n    blackList: data?.data?.list || [],\n    pagination: data?.data?.pagination || {},\n    isValidating,\n    mutate\n  };\n}","function debounce(func, wait, imme) {\n  let timer;\n\n  return function() {\n    if (imme && !timer) {\n      func.apply(this, arguments);\n    }\n    timer && clearTimeout(timer);\n    timer = setTimeout(() => func.apply(this, arguments), wait);\n  };\n}\n\nexport { debounce };\n"],"sourceRoot":""}