{"version":3,"sources":["webpack://windvane/./node_modules/@babel/runtime-corejs3/core-js/instance/trim.js","webpack://windvane/./src/components/QueryTable/index.less","webpack://windvane/./src/components/FormRender.tsx","webpack://windvane/./src/components/QueryTable/index.tsx","webpack://windvane/./src/components/miniComponents.tsx","webpack://windvane/./src/pages/UserManage/BlackList/index.tsx","webpack://windvane/./src/pages/UserManage/BlackList/services.ts","webpack://windvane/./src/utils/util.ts","webpack://windvane/./node_modules/core-js-pure/es/instance/trim.js","webpack://windvane/./node_modules/core-js-pure/es/string/virtual/trim.js","webpack://windvane/./node_modules/core-js-pure/features/instance/trim.js","webpack://windvane/./node_modules/core-js-pure/internals/string-trim-forced.js","webpack://windvane/./node_modules/core-js-pure/modules/es.string.trim.js"],"names":["module","exports","trimString","objToTrim","fields","keyName","FormRender","props","ref","form","async","getValues","formValue","validateFields","useImperativeHandle","resetFrom","resetFields","getChildren","useCallback","renderCom","comProps","label","isValidElement","placeholder","onPressEnter","allowClear","onChange","options","item","value","showTime","style","width","ranges","moment","startOf","endOf","subtract","initialValues","gutter","items","span","name","formItemLayout","itemProps","forwardRef","labelCol","wrapperCol","QueryTable","formItem","columns","rowKey","plusAction","query","list","total","loading","defaultPageSize","pageSizeOptions","notQueryWhilestart","defaultRef","useRef","formRef","undefined","defaultStep","Number","defaultPaginetionInfo","current","pageSize","useState","paginationInfo","setpaginationInfo","sortColumns","setsortColumns","search","pageInfoParams","sorter","values","sendSorter","formatParams","getRequestParams","length","order","paramsCurrent","paramsPageSize","rest","requestParams","pagination","sort","type","key","field","error","console","handleReset","useEffect","paginationOnChange","tableChange","filters","className","styles","onClick","marginRight","children","bordered","size","dataSource","showTotal","totalCount","showSizeChanger","Online","color","verticalAlign","Outline","ProductionOutline","production","refresh","isOnline","useMemo","onlineStatus","handleOnOrOutLine","res","productionOnOrOutLine","dramaId","code","placement","title","onConfirm","okText","cancelText","danger","CommontOutline","commont","subjectType","checkStatus","commontOnOrOutLine","commentId","id","subjectId","log","GoodComment","notGoodComment","useName","currentScore","currentLevel","showModel","setShowModel","changeScore","setChangeScore","level","setLevel","score","handleCancle","cancleHighQualityComment","isHighQualityStatus","hideModal","handleToGood","setHighQuality","rate","inputChange","e","temp","inputChangedDebounce","debounce","visible","onOk","onCancel","min","UserStatus","status","isExpert","UserBlack","user","isEnter","enterBlackList","typeContent","businessId","description","nickName","category","content","userId","outBlackList","idList","message","ProductionAdjustStatus","isCol","useGetAdjustGrade","adjustGrade","text","isValidating","opUser","marginLeft","PAGESIZE","initSearch","BUSINESS_ID","BlackList","queryTable","searchParams","setSearchParams","useGetBlackList","blackList","mutate","params","preParams","dataIndex","render","record","to","_","withAuthorized","Role","request","requestBasePath","method","body","requestBody","data","func","wait","imme","timer","apply","this","arguments","clearTimeout","trim","StringPrototype","String","prototype","it","own","entryVirtual","parent","fails","whitespaces","non","METHOD_NAME","$","$trim","forcedStringTrimMethod","target","proto","forced"],"mappings":"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","file":"p__UserManage__BlackList.b7a705a2.async.js","sourcesContent":["module.exports = require(\"core-js-pure/features/instance/trim\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1pnNnm\",\"actions\":\"_23Utz2\",\"body\":\"_3euxaN\"};","import React, { ForwardRefRenderFunction, useImperativeHandle, MutableRefObject, forwardRef, useCallback, ReactElement, isValidElement } from 'react';\nimport { Form, Row, Col, Input, Select, DatePicker } from 'antd';\nimport moment from 'moment';\n\n\ntype SupportRenderItem = 'input' | 'passwordInput' | 'select' | 'rangePicker' | 'datePicker'\n\ninterface ColType {\n  span: number;\n}\n\ninterface FormItemLayout {\n  labelCol: ColType;\n  wrapperCol: ColType;\n}\nexport interface FormItem {\n  name: string;\n  label: string;\n  renderCom: SupportRenderItem | ReactElement;\n  comProps?: {\n    options?: SelectOptions[];\n    placeholder?: string;\n    [key: string]: any;\n  };\n  span?: number;\n  itemProps?: { };\n}\n\nexport interface SelectOptions {\n  label: string | number;\n  value: string | number;\n}\n\n\nexport interface Props {\n  ref: MutableRefObject<any>;\n  items: FormItem[];\n  onPressEnter?: () => any;\n  initialValues?: {[keyName: string]: any};\n  formItemLayout: FormItemLayout;\n}\n\nfunction trimString(objToTrim: {[k: string]: any}) {\n  const fields = { ...objToTrim };\n\n  Object.keys({ ...fields }).forEach((keyName: string) => {\n    if (typeof fields[keyName] === 'string') {\n      fields[keyName] = fields[keyName].trim();\n    }\n  });\n\n  return fields;\n}\n\nconst FormRender: ForwardRefRenderFunction<unknown, Props> = (props: Props, ref: MutableRefObject<any>) => {\n  const [form] = Form.useForm();\n\n  async function getValues() {\n    const formValue = await form.validateFields();\n\n    return trimString(formValue);\n  }\n\n  useImperativeHandle(ref, () => ({\n    resetFrom: form.resetFields,\n    getValues,\n  })\n  );\n\n  const getChildren = useCallback(({ renderCom, comProps = {}, label }: FormItem) => {\n\n    if (isValidElement(renderCom)) {\n      return renderCom;\n    }\n    switch (renderCom) {\n      case 'input':\n        return <Input placeholder={ comProps?.placeholder ?? `请输入${ label }` } onPressEnter={ () => props.onPressEnter && props.onPressEnter() } />;\n      case 'passwordInput':\n        return <Input.Password placeholder={ comProps?.placeholder ?? `请输入${ label }` } onPressEnter={ () => props.onPressEnter && props.onPressEnter() } />;\n      case 'select':\n        return (\n          <Select {\n            ...{\n              allowClear: true,\n              placeholder: `请选择${ label }`,\n              onChange: () => props.onPressEnter && props.onPressEnter(),\n              ...comProps\n            } }>\n            {\n              comProps?.options?.map((item: SelectOptions) => (\n                <Select.Option value={ item.value } key={ item.value }>{item.label}</Select.Option>\n              ))\n            }\n          </Select>\n        );\n      case 'rangePicker':\n        return (\n          <DatePicker.RangePicker showTime={ true } style={{ width: '100%' }}\n            ranges={{\n              '今天': [moment().startOf('day'), moment().endOf('day')],\n              '昨天': [moment().startOf('day').subtract(1, 'day'), moment().endOf('day').subtract(1, 'day')],\n              '本周': [moment().startOf('week'), moment().endOf('week')],\n              '本月': [moment().startOf('month'), moment().endOf('month')]\n            }}\n            { ... comProps }\n          />);\n      case 'datePicker':\n        return (\n          <DatePicker style={{ width: '100%' }}\n            { ... comProps }\n          />);\n      default:\n        return <Input />;\n    }\n  }, [props.onPressEnter]);\n\n\n  return (\n    <Form form={ form }\n      initialValues={ props.initialValues }\n    >\n      <Row gutter={ 24 }>\n        {\n          props.items.map((item: FormItem) => {\n            return (\n              <Col span={ item.span ?? 8 } key={ item.name }>\n                <Form.Item name={ item.name } label={ item.label } { ...props.formItemLayout } { ...item.itemProps }>\n                  {\n                    getChildren(item)\n                  }\n                </Form.Item>\n              </Col>\n            );\n          } )\n        }\n      </Row>\n    </Form>\n  );\n};\n\n\nexport default forwardRef(FormRender);\n","import React, { useEffect, useRef, useState, useImperativeHandle, ReactElement, ForwardRefRenderFunction, MutableRefObject, forwardRef } from 'react';\nimport { Button, Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport FormRender, { FormItem } from '../FormRender';\nimport styles from './index.less';\nimport { getRequestParams } from '@/utils/functions';\nimport { ListQueryRequestBody } from '@/types/types';\n\nexport type PageInfo = { current?: number; pageSize?: number }\nexport type OnSearch = { searchParam: {[keyname: string]: any}; pageInfo: PageInfo }\n\ninterface ColType {\n  span: number;\n}\n\ninterface FormItemLayout {\n  labelCol: ColType;\n  wrapperCol: ColType;\n}\n\ninterface KeyValue {\n  [key: string]: any;\n}\ninterface SortColumns {\n  field?: string;                               // key\n  order?: undefined | string;                   // 排序方式\n}\n\ninterface Pagination {\n  current: number;\n  pageSize: number;\n}\n\nexport interface Props {\n  formItem?: FormItem[];                        // FormRender的查询项配置\n  columns?: ColumnsType;                        // Table Columns\n  children?: ReactElement | ReactElement[];     // 默认QueryTable展示Table，如果传入children，则展示children\n  plusAction?: ReactElement | ReactElement[];   // 出查询和重置以外的按钮\n  initialValues?: KeyValue;                     // FormRender初始化数据\n  formRef?: MutableRefObject<any>;              // FormRender的ref\n  rowKey: string;                               // Table rowKey\n  formItemLayout?: FormItemLayout;              // FormItem的labelCol和wrapperCol\n  query: (params: KeyValue) => void;            // 查询函数\n  list: KeyValue[];                             // Table dataSource数据\n  total: number;                                // Table total总数据条数\n  loading: boolean;                             // 请求loading状态\n  defaultPageSize?: number;                     // 初始pagesize\n  pageSizeOptions?: string[];                   // 每页多少条数据\n  notQueryWhilestart?: boolean;                 // 首页进入页面是否查询\n}\n\nconst formItemLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 }\n};\n\n\nconst QueryTable: ForwardRefRenderFunction<unknown, Props> = (\n  props: Props,\n  ref: MutableRefObject<any>,\n) => {\n  const {\n    formItem = [],\n    columns,\n    rowKey = 'key',\n    initialValues = {},\n    plusAction, query,\n    list = [],\n    total = 0,\n    loading,\n    defaultPageSize,\n    pageSizeOptions = ['10', '20', '50', '100'],\n    notQueryWhilestart\n  } = props;\n  const defaultRef = useRef<any>(null);\n  const formRef = props.formRef !== undefined ? props.formRef : defaultRef;\n  const defaultStep = defaultPageSize ?? Number(pageSizeOptions[0]); // 如果传值了，则取defaultPageSize, 否则取每页条数配置的第一项。\n  const defaultPaginetionInfo: Pagination = { current: 1, pageSize: defaultStep };\n  const [paginationInfo, setpaginationInfo] = useState(defaultPaginetionInfo);\n  const [sortColumns, setsortColumns] = useState<SortColumns | undefined>({}); // 排序\n  // 查询\n  const search = async (pageInfoParams?: PageInfo, sorter?: SortColumns) => {\n    try {\n      const values = await formRef.current?.getValues();\n      const { current, pageSize } = paginationInfo;\n      const sendSorter = sorter || sortColumns;\n\n      const formatParams: KeyValue = getRequestParams({\n        ...values,\n        ...{ current, pageSize },     // 如果当前请求没传页数和每页条数，则用上次的数据\n        ...pageInfoParams\n      });\n\n      setpaginationInfo({ current: formatParams.current, pageSize: formatParams.pageSize });\n      \n      // 判断排序参数是否传递给使用组件\n      // sorter: {\n      //  field: 'xxx',    // columns对应的dataIndex\n      //  order: 'ascend' | 'descend' }\n      if (!(sendSorter === undefined || Object.keys(sendSorter).length === 0 || sendSorter.order === undefined)) {\n        formatParams.sorter = sendSorter;\n      }\n      const { current: paramsCurrent, pageSize: paramsPageSize, sorter: sort, ...rest } = formatParams;\n      const requestParams: ListQueryRequestBody = {\n        pagination: { current: paramsCurrent, pageSize: paramsPageSize },\n        query: rest,\n      };\n\n      if (formatParams.sorter) {\n        requestParams.sort = {\n          type: formatParams.sorter.order,\n          key: formatParams.sorter.field\n        };\n      }\n\n      query(requestParams);\n      // 参数没传sorter时sorter为undefined，但页面的排序仍然为上次请求的状态，所以需加判断，sorter存在时再去设置\n      sorter && setsortColumns(sorter);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    query: search\n  }));\n\n  useEffect(() => {\n    !notQueryWhilestart && search({ ...defaultPaginetionInfo, ...initialValues });\n  }, []);\n\n\n  function handleReset() {\n    formRef.current?.resetFrom();\n    search({ current: 1 });\n  }\n\n  const paginationOnChange = (current: number, pageSize: number) => {\n    // 每页条数变化\n    if (pageSize !== paginationInfo.pageSize) {\n      search({ current: 1, pageSize });\n    } else {\n      search({ current, pageSize });\n    }\n  };\n\n  const tableChange = (pagination: any, filters: any, sorter: any) => {\n    const { field, order } = sorter;\n\n    if (field && (field !== (sortColumns ?? {}).field || order !== (sortColumns ?? {}).order)) {\n      search({}, { field, order });\n    }\n  };\n\n  return (\n    <div>\n      <div className={ styles.header }>\n        <FormRender ref={ formRef }\n          items={ formItem }\n          initialValues={ initialValues }\n          onPressEnter={ search }\n          formItemLayout={ props.formItemLayout || formItemLayout }\n        />\n        <div className={ styles.actions }>\n          {plusAction || <div />}\n          {formItem.length > 0 && (\n            <div>\n              <Button onClick={ handleReset } key=\"reset\" style={{ marginRight: '10px' }}>重置</Button>\n              <Button onClick={ () => search({ current: 1 }) } type=\"primary\" key=\"query\">查询</Button>\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={ styles.body }>\n        {props.children ?? <Table bordered={ true }\n          size=\"small\"\n          dataSource={ list }\n          columns={ columns }\n          rowKey={ rowKey }\n          pagination={{\n            total,\n            showTotal: (totalCount: number) => `共${ totalCount }条数据`,\n            current: paginationInfo.current,\n            pageSize: paginationInfo.pageSize,\n            onChange: paginationOnChange,\n            showSizeChanger: true,\n            pageSizeOptions\n          }}\n          loading={ loading }\n          onChange={ tableChange }\n        />}\n      </div>\n    </div>\n  );\n  \n};\n\nexport default forwardRef(QueryTable);\n","import React, { FC, useCallback, useState, useRef, useMemo } from 'react';\nimport {\n  Button,\n  message,\n  Popconfirm,\n  Modal,\n  Row,\n  Col,\n  InputNumber,\n} from 'antd';\nimport {\n  productionOnOrOutLine,\n  userOnOrOutLine,\n  commontOnOrOutLine,\n  useGetAdjustGrade,\n  setHighQuality,\n  cancleHighQualityComment,\n} from '@/services/publicServices';\nimport {\n  enterBlackList,\n  outBlackList,\n  BUSINESS_ID,\n} from '@/pages/UserManage/BlackList/services';\nimport {\n  ProductionDetailInfo,\n  UserDetailInfo,\n  CommontDetailInfo,\n} from '@/types/types';\nimport { debounce } from '@/utils/util';\n\nfunction Online() {\n  return <span style={{ color: '#333', verticalAlign: 'middle' }}>上线</span>;\n}\nfunction Outline() {\n  return <span style={{ color: 'red', verticalAlign: 'middle' }}>下线</span>;\n}\n\n// 作品上下线\ninterface ProductionOutlineProps {\n  production: ProductionDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction ProductionOutline(props: ProductionOutlineProps) {\n  const { production, refresh, style } = props;\n  const isOnline = useMemo(() => {\n    return production?.onlineStatus === 1;\n  }, [production]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await productionOnOrOutLine({\n        dramaId: production?.dramaId,\n        onlineStatus: isOnline ? 0 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, production, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该作品吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 用户上下线\ninterface UserOutlineProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserOutline(props: UserOutlineProps) {\n  const { user, refresh, style, isExpert } = props;\n  const isOnline = useMemo(() => {\n    return user?.status === 1;\n  }, [user]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await userOnOrOutLine({\n        userId: user?.userId,\n        status: isOnline ? 110 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      // title={ isExpert\n      //   ? `确认将该专家设置为 ${ isOnline ? '封禁' : '正常' } 吗`\n      //   : `确认将 ${ isOnline ? '移入' : '移出' } 黑名单吗` }\n      title={ `确认将该用户设置为 ${ isOnline ? '封禁' : '正常' } 状态吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          封禁\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          正常\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 评论上下线\ninterface CommontOutlineProps {\n  commont: CommontDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction CommontOutline(props: CommontOutlineProps) {\n  const { commont, refresh, style, subjectType = 'default' } = props;\n  const isOnline = useMemo(() => {\n    return commont?.checkStatus === 1;\n  }, [commont]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await commontOnOrOutLine({\n        commentId: commont?.id,\n        subjectId: commont?.subjectId,\n        checkStatus: isOnline ? 2 : 1,\n        subjectType,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  }, [isOnline, commont, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该评论吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 优质评论\nfunction GoodComment(props) {\n  const {\n    notGoodComment,\n    useName,\n    currentScore = 0,\n    currentLevel = 'lv.1',\n    commentId,\n    subjectId,\n    subjectType = '',\n    refresh,\n  } = props;\n  const [showModel, setShowModel] = useState(false);\n  const [changeScore, setChangeScore] = useState(currentScore);\n  const [level, setLevel] = useState(currentLevel);\n  const score = useRef(0);\n  const handleCancle = async () => {\n    // 取消优质评论\n    try {\n      await cancleHighQualityComment({\n        id: commentId,\n        subjectId,\n        isHighQualityStatus: false,\n        subjectType,\n      });\n    } catch (error) {\n      message.error('评优失败，请稍后再试');\n    }\n    refresh();\n  };\n\n  const hideModal = () => {\n    setShowModel(false);\n  };\n\n  const handleToGood = useCallback(async () => {\n    setTimeout(async () => {\n      try {\n        await setHighQuality({\n          id: commentId,\n          subjectId,\n          isHighQualityStatus: true,\n          rate: score.current,\n          subjectType,\n        });\n        message.success('操作成功');\n      } catch (error) {\n        message.error('评优失败，请稍后再试');\n      }\n\n      hideModal();\n      refresh();\n    }, 0);\n  }, []);\n\n  const show = () => {\n    setShowModel(true);\n  };\n\n  const inputChange = useCallback((e) => {\n    const temp = parseInt(currentScore + e);\n\n    if (temp <= 300) {\n      setLevel('lv.1');\n    } else if (temp <= 900) {\n      setLevel('lv.2');\n    } else if (temp <= 1900) {\n      setLevel('lv.3');\n    } else if (temp <= 3100) {\n      setLevel('lv.4');\n    } else {\n      setLevel('lv.5');\n    }\n    setChangeScore(temp);\n    score.current = temp;\n  }, []);\n\n  const inputChangedDebounce = useCallback(\n    debounce(inputChange, 600, false),\n    []\n  );\n\n  return (\n    <div>\n      {notGoodComment ? (\n        <Popconfirm placement=\"topLeft\"\n          title=\"确认该评论为优质吗？\"\n          onConfirm={ handleToGood }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>优质</Button>\n        </Popconfirm>\n      ) : (\n        // <Button type=\"primary\" onClick={show}>\n        //   优质\n        // </Button>\n        <Popconfirm placement=\"topRight\"\n          title=\"确认取消该评论的优质吗？\"\n          onConfirm={ handleCancle }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>取消优质</Button>\n        </Popconfirm>\n      )}\n      <Modal title={ `设置${ useName }的评论为优质` }\n        visible={ showModel }\n        onOk={ handleToGood }\n        onCancel={ hideModal }\n        okText=\"确认\"\n        cancelText=\"取消\"\n      >\n        <Row>\n          <Col span={ 6 }>当前积分：</Col>\n          <Col span={ 8 }>{currentScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>增加优质积分：</Col>\n          <Col span={ 8 }>\n            <InputNumber min={ 1 }\n              onChange={ inputChangedDebounce }\n              style={{ width: '200px' }}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计积分：</Col>\n          <Col span={ 8 }>{changeScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计等级：</Col>\n          <Col span={ 8 }>{level}</Col>\n        </Row>\n      </Modal>\n    </div>\n  );\n}\n\n// 用户状态\ninterface UserStatusProps {\n  status: number;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserStatus(props: UserStatusProps) {\n  const { status, style, isExpert } = props;\n\n  return status === 1 ? (\n    <span style={ style }>正常</span>\n  ) : (\n    <span style={{ color: 'red', ...style }}>封禁</span>\n  );\n  // {isExpert ? '禁用' : '黑名单'}\n}\n\n// 用户 黑名单\ninterface UserBlackProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isEnter?: boolean; // 移入黑名单\n}\nfunction UserBlack(props: UserBlackProps) {\n  const { user, refresh, style, isEnter } = props;\n\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      let res: any = {};\n\n      if (isEnter) {\n        res = await enterBlackList({\n          typeContent: '黑名单',\n          businessId: 'com_wind_vane',\n          description: user?.nickName,\n          category: 'userId',\n          content: user?.userId,\n        });\n      } else {\n        res = await outBlackList({\n          idList: [user.id],\n        });\n      }\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      } else {\n        message.error(res?.message || '服务器出问题啦');\n      }\n    } catch (error) {}\n  }, [isEnter, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认将该用户 ${ isEnter ? '移入' : '移出' } 黑名单吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isEnter ? (\n        <Button danger={ true } style={ style }>\n          移入黑名单\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          移出黑名单\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 作品调控状态\ninterface ProductionAdjustStatusProps {\n  subjectId: string;\n  style?: any;\n  isCol?: boolean;\n}\nfunction ProductionAdjustStatus(props: ProductionAdjustStatusProps) {\n  const { isCol, style, subjectId } = props;\n  const { adjustGrade, isValidating } = useGetAdjustGrade(subjectId);\n  const text = useMemo(() => {\n    switch (adjustGrade?.status) {\n      case 0:\n        return <span style={ style }>调控完成</span>;\n      case 1:\n        return <span style={{ color: '#1890ff', ...style }}>调控中</span>;\n      default:\n        return <span style={ style }>未调控</span>;\n    }\n  }, [adjustGrade?.status]);\n\n  return (\n    <>\n      {text}\n      {isCol\n        ? adjustGrade?.opUser && (\n        <p style={{ color: '#999' }}>{adjustGrade?.opUser || ''}最新调控</p>\n      )\n        : adjustGrade?.opUser && (\n        <span style={{ marginLeft: 8 }}>\n          ({adjustGrade?.opUser || ''}最新调控)\n        </span>\n      )}\n    </>\n  );\n}\n\nexport {\n  Online,\n  Outline,\n  ProductionOutline,\n  UserOutline,\n  CommontOutline,\n  UserStatus,\n  ProductionAdjustStatus,\n  UserBlack,\n  GoodComment,\n};\n","import React, { FC, useRef, useState, useEffect, useMemo } from 'react';\nimport QueryTable, { Props as QueryTableProps } from '@/components/QueryTable';\nimport { ColumnsType } from 'antd/lib/table';\nimport { withAuthorized } from '@/utils/Authorized';\nimport { Role } from '@/utils/authority';\nimport { Link } from 'umi';\nimport { useGetBlackList, BUSINESS_ID } from './services';\nimport { UserBlack } from '@/components/miniComponents';\n\n\ninterface QueryParams {\n  current: number;\n  pageSize: number;\n  [key: string]: any;\n}\n\nconst PAGESIZE = 10;\nconst initSearch = {\n  pagination: { pageSize: PAGESIZE, current: 1 },\n  query: { businessId: BUSINESS_ID, category: 'userId', typeContent: '黑名单' },\n  sort: { type: 'desc', key: 'createTime' }\n};\n\nconst BlackList: FC = () => {\n  const formRef = useRef<any>();\n  const queryTable = useRef<any>();\n  const [searchParams, setSearchParams] = useState(initSearch);\n  const { blackList, pagination, isValidating, mutate } = useGetBlackList(searchParams);\n\n\n  // 查询列表数据\n  function query(params: QueryParams) {\n    // eslint-disable-next-line no-shadow\n    const { pagination, query } = params;\n\n    setSearchParams((preParams: any) => ({\n      ...preParams,\n      pagination,\n      query: {\n        ...query,\n        businessId: BUSINESS_ID,\n        category: 'userId',\n        typeContent: '黑名单'\n      }\n    }));\n  }\n  // Todo 评论条数和最后评论时间字段暂时没有\n  const columns: ColumnsType<any> = [\n    {\n      title: '用户名',\n      dataIndex: 'description',\n      render: (text: string, record: any) => <Link to={ `/user-manage/user/${ record?.content }` }>{text}</Link>\n    },\n    { title: '操作', render: (_: any, record: any) => <UserBlack user={ record } refresh={ mutate } /> }\n  ];\n  \n\n  const formItem: QueryTableProps['formItem'] = [\n    {\n      name: 'description',\n      label: '用户名',\n      span: 8,\n      renderCom: 'input',\n    },\n    {\n      name: 'content',\n      span: 8,\n      label: 'ID',\n      renderCom: 'input',\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <QueryTable notQueryWhilestart={ true }\n        formItem={ formItem }\n        columns={ columns }\n        rowKey=\"content\"\n        formRef={ formRef }\n        ref={ queryTable }\n        query={ query }\n        list={ blackList }\n        total={ pagination?.total || 0 }\n        loading={ isValidating }\n      />\n    </React.Fragment>\n  );\n};\n\nexport default withAuthorized(BlackList, [Role.SYSTEM, Role.COMMENT]);\n","import { stringify } from 'qs';\nimport useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport cookie from '@/utils/cookie.js';\n\nimport { requestBasePath } from '@/services/login';\n\nexport const BUSINESS_ID = 'com_wind_vane';\n\n\n// 移入黑名单 POST  http://test0.galio.ifeng.com/api/picus-namelist/addNameList\nexport function enterBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/addNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 移出黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/removeNameList\nexport function outBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/removeNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 查询黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/queryNameList\nexport function useGetBlackList(requestBody: any) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody ? [`${ requestBasePath }/blackList/api/picus-namelist/queryNameList`, requestBody] : null, {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody\n  //     }\n  //   }\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"msg\": \"success\",\n    \"data\": {\n      \"pagination\": {\n        \"current\": 1,\n        \"total\": 1,\n        \"pageSize\": 10,\n        \"countPage\": 1\n      },\n      \"sort\": {\n        \"type\": \"desc\",\n        \"key\": \"createTime\"\n      },\n      \"list\": [{\n        \"typeContent\": \"黑名单\",\n        \"createTime\": \"2022-04-25 10:44:09\",\n        \"businessId\": \"com_wind_vane\",\n        \"description\": \"Honeycomb\",\n        \"updateTime\": \"2022-04-25 10:44:09\",\n        \"id\": 882941,\n        \"category\": \"userId\",\n        \"deadline\": \"2122-04-25 10:44:09\",\n        \"content\": \"6903959929825005666\",\n        \"operator\": \"maoliang\",\n        \"status\": 1\n      }]\n    }\n  }\n  const isValidating = false\n  const mutate = () => { }\n\n  return {\n    blackList: data?.data?.list || [],\n    pagination: data?.data?.pagination || {},\n    isValidating,\n    mutate\n  };\n}","function debounce(func, wait, imme) {\n  let timer;\n\n  return function() {\n    if (imme && !timer) {\n      func.apply(this, arguments);\n    }\n    timer && clearTimeout(timer);\n    timer = setTimeout(() => func.apply(this, arguments), wait);\n  };\n}\n\nexport { debounce };\n","var trim = require('../string/virtual/trim');\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it === 'string' || it === StringPrototype\n    || (it instanceof String && own === StringPrototype.trim) ? trim : own;\n};\n","require('../../../modules/es.string.trim');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').trim;\n","var parent = require('../../es/instance/trim');\n\nmodule.exports = parent;\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n"],"sourceRoot":""}