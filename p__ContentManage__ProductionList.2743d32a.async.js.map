{"version":3,"sources":["webpack://windvane/./node_modules/@babel/runtime-corejs3/core-js/instance/sort.js","webpack://windvane/./node_modules/@babel/runtime-corejs3/core-js/instance/trim.js","webpack://windvane/./src/components/ExpTime/index.less","webpack://windvane/./src/components/QueryTable/index.less","webpack://windvane/./src/pages/ContentManage/ProductionList/index.less","webpack://windvane/./src/components/Countdown.tsx","webpack://windvane/./src/components/ExpTime/index.tsx","webpack://windvane/./src/components/PreviewImg.tsx","webpack://windvane/./src/components/FormRender.tsx","webpack://windvane/./src/components/QueryTable/index.tsx","webpack://windvane/./src/components/miniComponents.tsx","webpack://windvane/./src/pages/ContentManage/ProductionList/services.ts","webpack://windvane/./src/pages/ContentManage/ProductionList/constant.js","webpack://windvane/./src/pages/ContentManage/ProductionList/components/SelectTimeModal.tsx","webpack://windvane/./src/pages/ContentManage/ProductionList/functions.ts","webpack://windvane/./src/pages/ContentManage/ProductionList/index.tsx","webpack://windvane/./src/pages/UserManage/BlackList/services.ts","webpack://windvane/./src/utils/util.ts","webpack://windvane/./node_modules/antd/es/popover/index.js","webpack://windvane/./node_modules/core-js-pure/es/array/virtual/sort.js","webpack://windvane/./node_modules/core-js-pure/es/instance/sort.js","webpack://windvane/./node_modules/core-js-pure/es/instance/trim.js","webpack://windvane/./node_modules/core-js-pure/es/string/virtual/trim.js","webpack://windvane/./node_modules/core-js-pure/features/instance/sort.js","webpack://windvane/./node_modules/core-js-pure/features/instance/trim.js","webpack://windvane/./node_modules/core-js-pure/internals/array-sort.js","webpack://windvane/./node_modules/core-js-pure/internals/engine-ff-version.js","webpack://windvane/./node_modules/core-js-pure/internals/engine-is-ie-or-edge.js","webpack://windvane/./node_modules/core-js-pure/internals/engine-webkit-version.js","webpack://windvane/./node_modules/core-js-pure/internals/string-trim-forced.js","webpack://windvane/./node_modules/core-js-pure/modules/es.array.sort.js","webpack://windvane/./node_modules/core-js-pure/modules/es.string.trim.js"],"names":["module","exports","TimeCountdown","formatExpireTime","date","milliSeconds","moment","isAfter","diff","hours","asHours","days","asDays","Countdown","time","overTimeText","fontSize","style","color","useMemo","Date","getTime","valueOf","value","valueStyle","initTimeList","lable","add","ExpTime","props","expireTime","onChange","mode","timeList","showTimeFormat","DatePickerProps","handleChange","format","isVertical","span","width","allowClear","placeholder","showTime","undefined","item","index","className","styles","onClick","smallImgstyle","previewImgStyle","maxWidth","maxHeight","PreviewImg","imgUrls","trigger","placement","children","isArray","content","src","alt","trimString","objToTrim","fields","keyName","FormRender","ref","form","async","getValues","formValue","validateFields","useImperativeHandle","resetFrom","resetFields","getChildren","useCallback","renderCom","comProps","label","isValidElement","onPressEnter","options","ranges","startOf","endOf","subtract","initialValues","gutter","items","name","formItemLayout","itemProps","forwardRef","labelCol","wrapperCol","QueryTable","formItem","columns","rowKey","plusAction","query","list","total","loading","defaultPageSize","pageSizeOptions","notQueryWhilestart","defaultRef","useRef","formRef","defaultStep","Number","defaultPaginetionInfo","current","pageSize","useState","paginationInfo","setpaginationInfo","sortColumns","setsortColumns","search","pageInfoParams","sorter","values","sendSorter","formatParams","getRequestParams","length","order","paramsCurrent","paramsPageSize","rest","requestParams","pagination","sort","type","key","field","error","console","handleReset","useEffect","paginationOnChange","tableChange","filters","marginRight","bordered","size","dataSource","showTotal","totalCount","showSizeChanger","Online","verticalAlign","Outline","ProductionOutline","production","refresh","isOnline","onlineStatus","handleOnOrOutLine","res","productionOnOrOutLine","dramaId","code","title","onConfirm","okText","cancelText","danger","CommontOutline","commont","subjectType","checkStatus","commontOnOrOutLine","commentId","id","subjectId","log","GoodComment","notGoodComment","useName","currentScore","currentLevel","showModel","setShowModel","changeScore","setChangeScore","level","setLevel","score","handleCancle","cancleHighQualityComment","isHighQualityStatus","hideModal","handleToGood","setHighQuality","rate","inputChange","e","temp","inputChangedDebounce","debounce","visible","onOk","onCancel","min","UserStatus","status","isExpert","UserBlack","user","isEnter","enterBlackList","typeContent","businessId","description","nickName","category","userId","outBlackList","idList","message","ProductionAdjustStatus","isCol","useGetAdjustGrade","adjustGrade","text","isValidating","opUser","marginLeft","useGetProductionList","requestBody","data","mutate","productionList","updateProductionTime","params","request","requestBasePath","stringify","useGetProductionCountChange","productionCountChange","TransKvData","countChangeLoading","useGetProductionNewCount","productionNewCount","newCountLoading","getEveryYear","start_year","end_year","yearList","i","push","getYearList","nowYear","year","nowMonth","month","pre","ProductionTypes","ProductionTypesMaps","SortTypes","SortTypesMaps","SelectTimeModal","handleHidden","handleOk","targetProduction","setValue","textAlign","topDeadline","getIsNewProduction","pre7Day","PAGESIZE","textShortItemLayout","authority","getAuthority","hasPushBtn","Role","SORT_TYPE","initSearch","Production","queryTable","setRequestBody","selectTimeVisible","setSelectTimeVisible","setTargetProduction","productionIds","ids","handleShow","record","dataIndex","render","to","imgList","JSON","parse","ProductionClass","toFixed","_","align","isNewProduction","picker","ProductionClassMaps","ProductionStatusMaps","initialValue","handleSearch","page","create_at","online_time","proTypeObj","sortObj","nowTime","startFinishTime","startTopDeadline","split","startShowTime","endShowTime","openTime","start","end","onLineTime","handleUpdateTime","withAuthorized","BUSINESS_ID","method","body","useGetBlackList","blackList","func","wait","imme","timer","apply","this","arguments","clearTimeout","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Popover","_a","customizePrefixCls","prefixCls","otherProps","_React$useContext","getPrefixCls","getOverlay","concat","rootPrefixCls","overlay","transitionName","displayName","defaultProps","mouseEnterDelay","mouseLeaveDelay","overlayStyle","entryVirtual","ArrayPrototype","Array","it","own","trim","StringPrototype","String","parent","floor","Math","mergeSort","array","comparefn","middle","insertionSort","merge","slice","element","j","left","right","llength","rlength","lindex","rindex","result","userAgent","firefox","match","UA","test","webkit","fails","whitespaces","non","METHOD_NAME","$","aFunction","toObject","toLength","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","chr","fromCharCode","k","v","a","b","charAt","FORCED","getSortCompare","x","y","target","proto","forced","itemsLength","arrayLength","$trim","forcedStringTrimMethod"],"mappings":"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","file":"p__ContentManage__ProductionList.2743d32a.async.js","sourcesContent":["module.exports = require(\"core-js-pure/features/instance/sort\");","module.exports = require(\"core-js-pure/features/instance/trim\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeItem\":\"_rcvKwd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1pnNnm\",\"actions\":\"_23Utz2\",\"body\":\"_3euxaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productionWrap\":\"_1hqYz9\"};","import React, { FC, useMemo } from 'react';\nimport { Statistic } from 'antd';\nimport moment from 'moment';\nimport { css } from '@emotion/core';\n\nconst { Countdown: TimeCountdown } = Statistic;\n\nexport interface Props {\n  time: number | string;\n  overTimeText?: string;\n  style?: React.CSSProperties;\n  fontSize?: number | string;\n}\n\nexport const formatExpireTime = (date: any) => {\n  const milliSeconds = moment(date).isAfter(moment()) ? moment.duration(moment(date).diff(moment())) : moment.duration(moment().diff(moment(date)));\n  let hours = 0;\n\n  hours = parseInt(milliSeconds.asHours() + '');\n\n  return {\n    hours,\n    days: `${ parseInt(milliSeconds.asDays() + '') }天`\n  };\n};\n\nconst Countdown: FC<Props> = ({ time, overTimeText = '已超时', fontSize = '14px', style = { fontSize: '14px', color: '#1890ff' } }: Props) => {\n  const { hours, days } = useMemo(() => {\n    return formatExpireTime(time);\n  }, [time]);\n\n  if (new Date().getTime() >= (typeof time === 'number' ? time : moment(time).valueOf())) return <span style={{ color: '#f81d22' }}>{overTimeText}</span>;\n\n  return (\n    hours >= 24\n      ? <span style={ style }>{days}</span>\n      : (\n        <TimeCountdown value={ time } valueStyle={ style } />\n      )\n  );\n};\n\nexport default Countdown;\n","import React, { FC, useMemo } from 'react';\nimport { DatePicker, Button, Row, Col } from 'antd';\nimport moment, { Moment } from 'moment';\nimport styles from './index.less';\nimport { TimeItem } from './types';\n\ninterface Props {\n  value?: string;\n  onChange?: (time?: string) => void;\n  mode?: 'vertical' | 'horizontal';\n  timeList?: TimeItem[];\n  showTimeFormat?: string;\n}\nconst initTimeList = [\n  { lable: '3h', time: moment().add(3, 'h') },\n  { lable: '12h', time: moment().add(12, 'h') },\n  { lable: '48h', time: moment().add(48, 'h') },\n  { lable: '1周', time: moment().add(7, 'd') },\n];\n\n\nconst ExpTime: FC<Props> = (props: any) => {\n  const {\n    value: expireTime,\n    // eslint-disable-next-line no-empty-function\n    onChange = () => {},\n    mode = 'vertical',\n    timeList = initTimeList,\n    showTimeFormat = 'HH:mm',\n    ...DatePickerProps\n  } = props;\n  \n  function handleChange(time: Moment | null) {\n    onChange(time ? time.format('YYYY-MM-DD HH:mm:ss') : '');\n  }\n\n  const isVertical = useMemo(() => mode === 'vertical', [mode]);\n\n  return (\n    <Row>\n      <Col span={ isVertical ? 24 : 12 }>\n        <DatePicker style={{ width: 200 }}\n          allowClear={ false }\n          placeholder=\"选择时间\"\n          showTime={{ format: showTimeFormat }}\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          value={ expireTime ? moment(expireTime) : undefined }\n          onChange={ handleChange }\n          { ...DatePickerProps }\n        />\n      </Col>\n      <Col span={ isVertical ? 24 : 12 }>\n        {timeList.map((item: TimeItem, index: number) => (\n          <Button key={ index }\n            className={ styles.timeItem }\n            onClick={ () => {\n              handleChange(item.time);\n            } }\n          >\n            {item.lable}\n          </Button>\n        ))}\n      </Col>\n    </Row>\n  );\n};\n\nexport default ExpTime;\n","import React, { ReactElement, FC, useMemo } from 'react';\nimport { Popover } from 'antd';\n\nexport interface Props {\n  imgUrls: string[] | string;\n  trigger?: string;\n  placement?: 'left' | 'top' | 'right' | 'bottom' | 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight' | 'leftTop' | 'leftBottom' | 'rightTop' | 'rightBottom' | undefined;\n  children?: any;\n}\n\nconst smallImgstyle = {\n  width: '100px'\n};\n\nconst previewImgStyle = {\n  maxWidth: '600px',\n  maxHeight: '600px'\n};\n\nconst PreviewImg: FC<Props> = ({ imgUrls, trigger = 'hover', placement = 'rightBottom', children }: Props) => {\n  const isArray = useMemo(() => {\n    return Array.isArray(imgUrls);\n  }, [imgUrls])\n;\n\n  return (\n    isArray\n      ? imgUrls?.map((item: string) => {\n        <Popover content={ <img src={ item } style={ previewImgStyle } alt=\"\" /> }\n          { ... { trigger, placement } }\n        >\n          <img style={ smallImgstyle } src={ item } alt=\"\" />\n        </Popover>;\n      })\n      : (\n        <Popover content={ <img src={ imgUrls } style={ previewImgStyle } alt=\"\" /> }\n          { ... { trigger, placement } }\n        >\n          {children ? children : <img style={ smallImgstyle } src={ imgUrls } alt=\"\" />}\n        </Popover>)\n  );\n};\n\nexport default PreviewImg;\n","import React, { ForwardRefRenderFunction, useImperativeHandle, MutableRefObject, forwardRef, useCallback, ReactElement, isValidElement } from 'react';\nimport { Form, Row, Col, Input, Select, DatePicker } from 'antd';\nimport moment from 'moment';\n\n\ntype SupportRenderItem = 'input' | 'passwordInput' | 'select' | 'rangePicker' | 'datePicker'\n\ninterface ColType {\n  span: number;\n}\n\ninterface FormItemLayout {\n  labelCol: ColType;\n  wrapperCol: ColType;\n}\nexport interface FormItem {\n  name: string;\n  label: string;\n  renderCom: SupportRenderItem | ReactElement;\n  comProps?: {\n    options?: SelectOptions[];\n    placeholder?: string;\n    [key: string]: any;\n  };\n  span?: number;\n  itemProps?: { };\n}\n\nexport interface SelectOptions {\n  label: string | number;\n  value: string | number;\n}\n\n\nexport interface Props {\n  ref: MutableRefObject<any>;\n  items: FormItem[];\n  onPressEnter?: () => any;\n  initialValues?: {[keyName: string]: any};\n  formItemLayout: FormItemLayout;\n}\n\nfunction trimString(objToTrim: {[k: string]: any}) {\n  const fields = { ...objToTrim };\n\n  Object.keys({ ...fields }).forEach((keyName: string) => {\n    if (typeof fields[keyName] === 'string') {\n      fields[keyName] = fields[keyName].trim();\n    }\n  });\n\n  return fields;\n}\n\nconst FormRender: ForwardRefRenderFunction<unknown, Props> = (props: Props, ref: MutableRefObject<any>) => {\n  const [form] = Form.useForm();\n\n  async function getValues() {\n    const formValue = await form.validateFields();\n\n    return trimString(formValue);\n  }\n\n  useImperativeHandle(ref, () => ({\n    resetFrom: form.resetFields,\n    getValues,\n  })\n  );\n\n  const getChildren = useCallback(({ renderCom, comProps = {}, label }: FormItem) => {\n\n    if (isValidElement(renderCom)) {\n      return renderCom;\n    }\n    switch (renderCom) {\n      case 'input':\n        return <Input placeholder={ comProps?.placeholder ?? `请输入${ label }` } onPressEnter={ () => props.onPressEnter && props.onPressEnter() } />;\n      case 'passwordInput':\n        return <Input.Password placeholder={ comProps?.placeholder ?? `请输入${ label }` } onPressEnter={ () => props.onPressEnter && props.onPressEnter() } />;\n      case 'select':\n        return (\n          <Select {\n            ...{\n              allowClear: true,\n              placeholder: `请选择${ label }`,\n              onChange: () => props.onPressEnter && props.onPressEnter(),\n              ...comProps\n            } }>\n            {\n              comProps?.options?.map((item: SelectOptions) => (\n                <Select.Option value={ item.value } key={ item.value }>{item.label}</Select.Option>\n              ))\n            }\n          </Select>\n        );\n      case 'rangePicker':\n        return (\n          <DatePicker.RangePicker showTime={ true } style={{ width: '100%' }}\n            ranges={{\n              '今天': [moment().startOf('day'), moment().endOf('day')],\n              '昨天': [moment().startOf('day').subtract(1, 'day'), moment().endOf('day').subtract(1, 'day')],\n              '本周': [moment().startOf('week'), moment().endOf('week')],\n              '本月': [moment().startOf('month'), moment().endOf('month')]\n            }}\n            { ... comProps }\n          />);\n      case 'datePicker':\n        return (\n          <DatePicker style={{ width: '100%' }}\n            { ... comProps }\n          />);\n      default:\n        return <Input />;\n    }\n  }, [props.onPressEnter]);\n\n\n  return (\n    <Form form={ form }\n      initialValues={ props.initialValues }\n    >\n      <Row gutter={ 24 }>\n        {\n          props.items.map((item: FormItem) => {\n            return (\n              <Col span={ item.span ?? 8 } key={ item.name }>\n                <Form.Item name={ item.name } label={ item.label } { ...props.formItemLayout } { ...item.itemProps }>\n                  {\n                    getChildren(item)\n                  }\n                </Form.Item>\n              </Col>\n            );\n          } )\n        }\n      </Row>\n    </Form>\n  );\n};\n\n\nexport default forwardRef(FormRender);\n","import React, { useEffect, useRef, useState, useImperativeHandle, ReactElement, ForwardRefRenderFunction, MutableRefObject, forwardRef } from 'react';\nimport { Button, Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport FormRender, { FormItem } from '../FormRender';\nimport styles from './index.less';\nimport { getRequestParams } from '@/utils/functions';\nimport { ListQueryRequestBody } from '@/types/types';\n\nexport type PageInfo = { current?: number; pageSize?: number }\nexport type OnSearch = { searchParam: {[keyname: string]: any}; pageInfo: PageInfo }\n\ninterface ColType {\n  span: number;\n}\n\ninterface FormItemLayout {\n  labelCol: ColType;\n  wrapperCol: ColType;\n}\n\ninterface KeyValue {\n  [key: string]: any;\n}\ninterface SortColumns {\n  field?: string;                               // key\n  order?: undefined | string;                   // 排序方式\n}\n\ninterface Pagination {\n  current: number;\n  pageSize: number;\n}\n\nexport interface Props {\n  formItem?: FormItem[];                        // FormRender的查询项配置\n  columns?: ColumnsType;                        // Table Columns\n  children?: ReactElement | ReactElement[];     // 默认QueryTable展示Table，如果传入children，则展示children\n  plusAction?: ReactElement | ReactElement[];   // 出查询和重置以外的按钮\n  initialValues?: KeyValue;                     // FormRender初始化数据\n  formRef?: MutableRefObject<any>;              // FormRender的ref\n  rowKey: string;                               // Table rowKey\n  formItemLayout?: FormItemLayout;              // FormItem的labelCol和wrapperCol\n  query: (params: KeyValue) => void;            // 查询函数\n  list: KeyValue[];                             // Table dataSource数据\n  total: number;                                // Table total总数据条数\n  loading: boolean;                             // 请求loading状态\n  defaultPageSize?: number;                     // 初始pagesize\n  pageSizeOptions?: string[];                   // 每页多少条数据\n  notQueryWhilestart?: boolean;                 // 首页进入页面是否查询\n}\n\nconst formItemLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 }\n};\n\n\nconst QueryTable: ForwardRefRenderFunction<unknown, Props> = (\n  props: Props,\n  ref: MutableRefObject<any>,\n) => {\n  const {\n    formItem = [],\n    columns,\n    rowKey = 'key',\n    initialValues = {},\n    plusAction, query,\n    list = [],\n    total = 0,\n    loading,\n    defaultPageSize,\n    pageSizeOptions = ['10', '20', '50', '100'],\n    notQueryWhilestart\n  } = props;\n  const defaultRef = useRef<any>(null);\n  const formRef = props.formRef !== undefined ? props.formRef : defaultRef;\n  const defaultStep = defaultPageSize ?? Number(pageSizeOptions[0]); // 如果传值了，则取defaultPageSize, 否则取每页条数配置的第一项。\n  const defaultPaginetionInfo: Pagination = { current: 1, pageSize: defaultStep };\n  const [paginationInfo, setpaginationInfo] = useState(defaultPaginetionInfo);\n  const [sortColumns, setsortColumns] = useState<SortColumns | undefined>({}); // 排序\n  // 查询\n  const search = async (pageInfoParams?: PageInfo, sorter?: SortColumns) => {\n    try {\n      const values = await formRef.current?.getValues();\n      const { current, pageSize } = paginationInfo;\n      const sendSorter = sorter || sortColumns;\n\n      const formatParams: KeyValue = getRequestParams({\n        ...values,\n        ...{ current, pageSize },     // 如果当前请求没传页数和每页条数，则用上次的数据\n        ...pageInfoParams\n      });\n\n      setpaginationInfo({ current: formatParams.current, pageSize: formatParams.pageSize });\n      \n      // 判断排序参数是否传递给使用组件\n      // sorter: {\n      //  field: 'xxx',    // columns对应的dataIndex\n      //  order: 'ascend' | 'descend' }\n      if (!(sendSorter === undefined || Object.keys(sendSorter).length === 0 || sendSorter.order === undefined)) {\n        formatParams.sorter = sendSorter;\n      }\n      const { current: paramsCurrent, pageSize: paramsPageSize, sorter: sort, ...rest } = formatParams;\n      const requestParams: ListQueryRequestBody = {\n        pagination: { current: paramsCurrent, pageSize: paramsPageSize },\n        query: rest,\n      };\n\n      if (formatParams.sorter) {\n        requestParams.sort = {\n          type: formatParams.sorter.order,\n          key: formatParams.sorter.field\n        };\n      }\n\n      query(requestParams);\n      // 参数没传sorter时sorter为undefined，但页面的排序仍然为上次请求的状态，所以需加判断，sorter存在时再去设置\n      sorter && setsortColumns(sorter);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    query: search\n  }));\n\n  useEffect(() => {\n    !notQueryWhilestart && search({ ...defaultPaginetionInfo, ...initialValues });\n  }, []);\n\n\n  function handleReset() {\n    formRef.current?.resetFrom();\n    search({ current: 1 });\n  }\n\n  const paginationOnChange = (current: number, pageSize: number) => {\n    // 每页条数变化\n    if (pageSize !== paginationInfo.pageSize) {\n      search({ current: 1, pageSize });\n    } else {\n      search({ current, pageSize });\n    }\n  };\n\n  const tableChange = (pagination: any, filters: any, sorter: any) => {\n    const { field, order } = sorter;\n\n    if (field && (field !== (sortColumns ?? {}).field || order !== (sortColumns ?? {}).order)) {\n      search({}, { field, order });\n    }\n  };\n\n  return (\n    <div>\n      <div className={ styles.header }>\n        <FormRender ref={ formRef }\n          items={ formItem }\n          initialValues={ initialValues }\n          onPressEnter={ search }\n          formItemLayout={ props.formItemLayout || formItemLayout }\n        />\n        <div className={ styles.actions }>\n          {plusAction || <div />}\n          {formItem.length > 0 && (\n            <div>\n              <Button onClick={ handleReset } key=\"reset\" style={{ marginRight: '10px' }}>重置</Button>\n              <Button onClick={ () => search({ current: 1 }) } type=\"primary\" key=\"query\">查询</Button>\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={ styles.body }>\n        {props.children ?? <Table bordered={ true }\n          size=\"small\"\n          dataSource={ list }\n          columns={ columns }\n          rowKey={ rowKey }\n          pagination={{\n            total,\n            showTotal: (totalCount: number) => `共${ totalCount }条数据`,\n            current: paginationInfo.current,\n            pageSize: paginationInfo.pageSize,\n            onChange: paginationOnChange,\n            showSizeChanger: true,\n            pageSizeOptions\n          }}\n          loading={ loading }\n          onChange={ tableChange }\n        />}\n      </div>\n    </div>\n  );\n  \n};\n\nexport default forwardRef(QueryTable);\n","import React, { FC, useCallback, useState, useRef, useMemo } from 'react';\nimport {\n  Button,\n  message,\n  Popconfirm,\n  Modal,\n  Row,\n  Col,\n  InputNumber,\n} from 'antd';\nimport {\n  productionOnOrOutLine,\n  userOnOrOutLine,\n  commontOnOrOutLine,\n  useGetAdjustGrade,\n  setHighQuality,\n  cancleHighQualityComment,\n} from '@/services/publicServices';\nimport {\n  enterBlackList,\n  outBlackList,\n  BUSINESS_ID,\n} from '@/pages/UserManage/BlackList/services';\nimport {\n  ProductionDetailInfo,\n  UserDetailInfo,\n  CommontDetailInfo,\n} from '@/types/types';\nimport { debounce } from '@/utils/util';\n\nfunction Online() {\n  return <span style={{ color: '#333', verticalAlign: 'middle' }}>上线</span>;\n}\nfunction Outline() {\n  return <span style={{ color: 'red', verticalAlign: 'middle' }}>下线</span>;\n}\n\n// 作品上下线\ninterface ProductionOutlineProps {\n  production: ProductionDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction ProductionOutline(props: ProductionOutlineProps) {\n  const { production, refresh, style } = props;\n  const isOnline = useMemo(() => {\n    return production?.onlineStatus === 1;\n  }, [production]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await productionOnOrOutLine({\n        dramaId: production?.dramaId,\n        onlineStatus: isOnline ? 0 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, production, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该作品吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 用户上下线\ninterface UserOutlineProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserOutline(props: UserOutlineProps) {\n  const { user, refresh, style, isExpert } = props;\n  const isOnline = useMemo(() => {\n    return user?.status === 1;\n  }, [user]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await userOnOrOutLine({\n        userId: user?.userId,\n        status: isOnline ? 110 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      // title={ isExpert\n      //   ? `确认将该专家设置为 ${ isOnline ? '封禁' : '正常' } 吗`\n      //   : `确认将 ${ isOnline ? '移入' : '移出' } 黑名单吗` }\n      title={ `确认将该用户设置为 ${ isOnline ? '封禁' : '正常' } 状态吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          封禁\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          正常\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 评论上下线\ninterface CommontOutlineProps {\n  commont: CommontDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction CommontOutline(props: CommontOutlineProps) {\n  const { commont, refresh, style, subjectType = 'default' } = props;\n  const isOnline = useMemo(() => {\n    return commont?.checkStatus === 1;\n  }, [commont]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await commontOnOrOutLine({\n        commentId: commont?.id,\n        subjectId: commont?.subjectId,\n        checkStatus: isOnline ? 2 : 1,\n        subjectType,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  }, [isOnline, commont, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该评论吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 优质评论\nfunction GoodComment(props) {\n  const {\n    notGoodComment,\n    useName,\n    currentScore = 0,\n    currentLevel = 'lv.1',\n    commentId,\n    subjectId,\n    subjectType = '',\n    refresh,\n  } = props;\n  const [showModel, setShowModel] = useState(false);\n  const [changeScore, setChangeScore] = useState(currentScore);\n  const [level, setLevel] = useState(currentLevel);\n  const score = useRef(0);\n  const handleCancle = async () => {\n    // 取消优质评论\n    try {\n      await cancleHighQualityComment({\n        id: commentId,\n        subjectId,\n        isHighQualityStatus: false,\n        subjectType,\n      });\n    } catch (error) {\n      message.error('评优失败，请稍后再试');\n    }\n    refresh();\n  };\n\n  const hideModal = () => {\n    setShowModel(false);\n  };\n\n  const handleToGood = useCallback(async () => {\n    setTimeout(async () => {\n      try {\n        await setHighQuality({\n          id: commentId,\n          subjectId,\n          isHighQualityStatus: true,\n          rate: score.current,\n          subjectType,\n        });\n        message.success('操作成功');\n      } catch (error) {\n        message.error('评优失败，请稍后再试');\n      }\n\n      hideModal();\n      refresh();\n    }, 0);\n  }, []);\n\n  const show = () => {\n    setShowModel(true);\n  };\n\n  const inputChange = useCallback((e) => {\n    const temp = parseInt(currentScore + e);\n\n    if (temp <= 300) {\n      setLevel('lv.1');\n    } else if (temp <= 900) {\n      setLevel('lv.2');\n    } else if (temp <= 1900) {\n      setLevel('lv.3');\n    } else if (temp <= 3100) {\n      setLevel('lv.4');\n    } else {\n      setLevel('lv.5');\n    }\n    setChangeScore(temp);\n    score.current = temp;\n  }, []);\n\n  const inputChangedDebounce = useCallback(\n    debounce(inputChange, 600, false),\n    []\n  );\n\n  return (\n    <div>\n      {notGoodComment ? (\n        <Popconfirm placement=\"topLeft\"\n          title=\"确认该评论为优质吗？\"\n          onConfirm={ handleToGood }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>优质</Button>\n        </Popconfirm>\n      ) : (\n        // <Button type=\"primary\" onClick={show}>\n        //   优质\n        // </Button>\n        <Popconfirm placement=\"topRight\"\n          title=\"确认取消该评论的优质吗？\"\n          onConfirm={ handleCancle }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>取消优质</Button>\n        </Popconfirm>\n      )}\n      <Modal title={ `设置${ useName }的评论为优质` }\n        visible={ showModel }\n        onOk={ handleToGood }\n        onCancel={ hideModal }\n        okText=\"确认\"\n        cancelText=\"取消\"\n      >\n        <Row>\n          <Col span={ 6 }>当前积分：</Col>\n          <Col span={ 8 }>{currentScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>增加优质积分：</Col>\n          <Col span={ 8 }>\n            <InputNumber min={ 1 }\n              onChange={ inputChangedDebounce }\n              style={{ width: '200px' }}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计积分：</Col>\n          <Col span={ 8 }>{changeScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计等级：</Col>\n          <Col span={ 8 }>{level}</Col>\n        </Row>\n      </Modal>\n    </div>\n  );\n}\n\n// 用户状态\ninterface UserStatusProps {\n  status: number;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserStatus(props: UserStatusProps) {\n  const { status, style, isExpert } = props;\n\n  return status === 1 ? (\n    <span style={ style }>正常</span>\n  ) : (\n    <span style={{ color: 'red', ...style }}>封禁</span>\n  );\n  // {isExpert ? '禁用' : '黑名单'}\n}\n\n// 用户 黑名单\ninterface UserBlackProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isEnter?: boolean; // 移入黑名单\n}\nfunction UserBlack(props: UserBlackProps) {\n  const { user, refresh, style, isEnter } = props;\n\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      let res: any = {};\n\n      if (isEnter) {\n        res = await enterBlackList({\n          typeContent: '黑名单',\n          businessId: 'com_wind_vane',\n          description: user?.nickName,\n          category: 'userId',\n          content: user?.userId,\n        });\n      } else {\n        res = await outBlackList({\n          idList: [user.id],\n        });\n      }\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      } else {\n        message.error(res?.message || '服务器出问题啦');\n      }\n    } catch (error) {}\n  }, [isEnter, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认将该用户 ${ isEnter ? '移入' : '移出' } 黑名单吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isEnter ? (\n        <Button danger={ true } style={ style }>\n          移入黑名单\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          移出黑名单\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 作品调控状态\ninterface ProductionAdjustStatusProps {\n  subjectId: string;\n  style?: any;\n  isCol?: boolean;\n}\nfunction ProductionAdjustStatus(props: ProductionAdjustStatusProps) {\n  const { isCol, style, subjectId } = props;\n  const { adjustGrade, isValidating } = useGetAdjustGrade(subjectId);\n  const text = useMemo(() => {\n    switch (adjustGrade?.status) {\n      case 0:\n        return <span style={ style }>调控完成</span>;\n      case 1:\n        return <span style={{ color: '#1890ff', ...style }}>调控中</span>;\n      default:\n        return <span style={ style }>未调控</span>;\n    }\n  }, [adjustGrade?.status]);\n\n  return (\n    <>\n      {text}\n      {isCol\n        ? adjustGrade?.opUser && (\n        <p style={{ color: '#999' }}>{adjustGrade?.opUser || ''}最新调控</p>\n      )\n        : adjustGrade?.opUser && (\n        <span style={{ marginLeft: 8 }}>\n          ({adjustGrade?.opUser || ''}最新调控)\n        </span>\n      )}\n    </>\n  );\n}\n\nexport {\n  Online,\n  Outline,\n  ProductionOutline,\n  UserOutline,\n  CommontOutline,\n  UserStatus,\n  ProductionAdjustStatus,\n  UserBlack,\n  GoodComment,\n};\n","import useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport { stringify } from 'qs';\nimport { TopDeadlineInfo } from './types';\nimport { TransKvData } from '@/utils/functions';\n\nimport { requestBasePath } from '@/services/login';\n\nexport const list = [{\n  dramaId: '111',\n  publicScore: '111',\n  showTime: 1623289037000,\n  commentTotal: '2020-6-8',\n  title: '作品1',\n  performanceScorePeople: 33,\n  performanceScore: 55,\n  platform: '111',\n  publicScorePeople: 33,\n  coverImage: ['https://x0.ifengimg.com/cmpp/2020/1201/fbd14ebbf8f24d3size27_w360_h360.jpg'],\n  searchHeat: 22,\n  category: 'tv-play',\n  commentPeople: 66,\n  topDeadline: 1623479003000\n}, {\n  dramaId: '222',\n  publicScore: '222',\n  showTime: 1623289037000,\n  commentTotal: '2020-6-8',\n  title: '作品2',\n  performanceScorePeople: 33,\n  performanceScore: 55,\n  platform: '111',\n  publicScorePeople: 33,\n  coverImage: ['https://x0.ifengimg.com/cmpp/2020/1201/fbd14ebbf8f24d3size27_w360_h360.jpg'],\n  searchHeat: 22,\n  category: 'tv-play',\n  commentPeople: 66,\n  topDeadline: 1624170203000\n}];\n\n// 作品列表查询搜索 POST  /wind-vane-backend/drama/query/queryDramaContentList\nexport function useGetProductionList(requestBody: any) { // ?: RequestLogBody\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody ? [`${ requestBasePath }/wingvate/wind-vane-backend/drama/query/queryDramaContentList`, requestBody] : null, {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody\n  //     }\n  //   }\n  // );\n\n  const data = {\n\t\"code\": 200,\n\t\"level\": 200,\n\t\"message\": \"success\",\n\t\"description\": \"\",\n\t\"data\": {\n\t\t\"pagination\": {\n\t\t\t\"current\": 1,\n\t\t\t\"pageSize\": 10,\n\t\t\t\"total\": 169,\n\t\t\t\"start\": 0\n\t\t},\n\t\t\"list\": [{\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6946047772109836387\",\n\t\t\t\"title\": \"我是测试分哈哈哈哈\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/A38CBAC877EB335986F31F925398E7321C18C031_size1055_w1035_h1035.png\\\"]\",\n\t\t\t\"description\": \"飞凤飞飞\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 5.795,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":30,\\\"fourHalfStarCount\\\":330,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":20,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":4,\\\"threeHalfStarCount\\\":11,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":605}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 7,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 1000,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"sunyf1\",\n\t\t\t\"topDeadline\": 1657524450000,\n\t\t\t\"showTime\": 1655740799999,\n\t\t\t\"finishTime\": 1656431999999,\n\t\t\t\"createTime\": 1656314446000,\n\t\t\t\"updateTime\": 1656920640431\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6946047772109836306\",\n\t\t\t\"title\": \"飞飞飞\",\n\t\t\t\"category\": \"movie\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/5B954B106A34AAEA5059542FBF0B84C66D72BA96_size311_w377_h528.png\\\"]\",\n\t\t\t\"description\": \"飞飞飞\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":20,\\\"oneHalfStarCount\\\":40,\\\"oneStarCount\\\":31,\\\"threeHalfStarCount\\\":0,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":6,\\\"twoStarCount\\\":52}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 4,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 149,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"sunyf1\",\n\t\t\t\"topDeadline\": 1655188365351,\n\t\t\t\"showTime\": 1654617599999,\n\t\t\t\"finishTime\": 1656518399999,\n\t\t\t\"createTime\": 1656311590000,\n\t\t\t\"updateTime\": 1656921600441\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6946047772109836308\",\n\t\t\t\"title\": \"测试评分哎\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/049BC48042FC425F4E60A9341C1EB0A4C7C5348F_size979_w592_h800.png\\\"]\",\n\t\t\t\"description\": \"我是简介哈哈哈\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 8.4,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourHalfStarCount\\\":100,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":0,\\\"threeHalfStarCount\\\":0,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":0}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 2,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 100,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"sunyf1\",\n\t\t\t\"topDeadline\": 1656396954755,\n\t\t\t\"showTime\": 1655827199999,\n\t\t\t\"finishTime\": 1656604799999,\n\t\t\t\"createTime\": 1656310574000,\n\t\t\t\"updateTime\": 1656923100436\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6945309547955228744\",\n\t\t\t\"title\": \"梦华录\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_26/04B2BAF3283B091C89B986E3CB7F253AF7ED95AC_size378_w1080_h1512.jpg\\\"]\",\n\t\t\t\"description\": \"在钱塘开茶铺的赵盼儿（刘亦菲 饰）惊闻未婚夫、新科探花欧阳旭（徐海乔 饰）要另娶当朝高官之女，不甘命运的她誓要上京讨个公道。在途中她遇到了出自权门但生性正直的皇城司指挥顾千帆（陈晓 饰），并卷入江南一场大案，两人不打不相识从而结缘。赵盼儿凭借智慧解救了被骗婚而惨遭虐待的“江南第一琵琶高手”宋引章（林允 饰）与被苛刻家人逼得离家出走的豪爽厨娘孙三娘（柳岩 饰），三位姐妹从此结伴同行，终抵汴京，见识世间繁华。为了不被另攀高枝的欧阳旭从东京赶走，赵盼儿与宋引章、孙三娘一起历经艰辛，将小小茶坊一步步发展为汴京最大的酒楼，揭露了负心人的真面目，收获了各自的真挚感情和人生感悟，也为无数平凡女子推开了一扇平等救赎之门。\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 7.4199,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":2,\\\"fourHalfStarCount\\\":38,\\\"fourStarCount\\\":212,\\\"halfStarCount\\\":1,\\\"oneHalfStarCount\\\":1,\\\"oneStarCount\\\":1,\\\"threeHalfStarCount\\\":27,\\\"threeStarCount\\\":34,\\\"twoHalfStarCount\\\":45,\\\"twoStarCount\\\":1}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 4,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 362,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 4,\n\t\t\t\"operator\": \"ruanhang1\",\n\t\t\t\"topDeadline\": 1656300622003,\n\t\t\t\"showTime\": 1655740799999,\n\t\t\t\"finishTime\": 1657468799999,\n\t\t\t\"createTime\": 1655955031000,\n\t\t\t\"updateTime\": 1656089940536\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6942453087697117232\",\n\t\t\t\"title\": \"我的天啊123\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/CD1D83995198CB1E776177FB1B9EB4668B136241_size14_w264_h370.jpg\\\"]\",\n\t\t\t\"description\": \"123\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 8.4,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":404,\\\"fourHalfStarCount\\\":2,\\\"fourStarCount\\\":4,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":1,\\\"threeHalfStarCount\\\":2,\\\"threeStarCount\\\":3,\\\"twoHalfStarCount\\\":1,\\\"twoStarCount\\\":13}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 8,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 430,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"guoyn1\",\n\t\t\t\"topDeadline\": 1655884140070,\n\t\t\t\"showTime\": 1655308799999,\n\t\t\t\"finishTime\": 1656604799999,\n\t\t\t\"createTime\": 1655279371000,\n\t\t\t\"updateTime\": 1656904440481\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6841299665380446281\",\n\t\t\t\"title\": \"大米奇牙牙测试777\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/7573E1A68FEFFC6FD5899C6A1AE268AA39F5B145_size34_w264_h370.jpg\\\"]\",\n\t\t\t\"description\": \"123\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":3,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":1,\\\"halfStarCount\\\":1,\\\"oneHalfStarCount\\\":1,\\\"oneStarCount\\\":291,\\\"threeHalfStarCount\\\":2,\\\"threeStarCount\\\":74,\\\"twoHalfStarCount\\\":2,\\\"twoStarCount\\\":1}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 3,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 376,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"chengshang\",\n\t\t\t\"topDeadline\": 1655913599999,\n\t\t\t\"showTime\": 1655308799999,\n\t\t\t\"finishTime\": 1655827199999,\n\t\t\t\"createTime\": 1655260032000,\n\t\t\t\"updateTime\": 1656904740431\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6923116002918014978\",\n\t\t\t\"title\": \"222作品测试测试作品测试测试作品测试测试哈哈哈哈哈哈哈\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/EC908D3F7CD03F44AC2E14CF2A13F5A6B3AC8339_size138_w296_h350.png\\\"]\",\n\t\t\t\"description\": \"这是宋仲基club!!!!!!!!1\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":2,\\\"fourHalfStarCount\\\":1,\\\"fourStarCount\\\":4,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":1,\\\"oneStarCount\\\":157,\\\"threeHalfStarCount\\\":2,\\\"threeStarCount\\\":2,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":7}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 22,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 176,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"yangsf\",\n\t\t\t\"topDeadline\": 1651593599999,\n\t\t\t\"showTime\": 1650988799999,\n\t\t\t\"finishTime\": 1651334399999,\n\t\t\t\"createTime\": 1650867397000,\n\t\t\t\"updateTime\": 1655979840639\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6889174004943294549\",\n\t\t\t\"title\": \"玉兰花开\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[\\\"优酷视频\\\",\\\"腾讯视频\\\"]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/5063D7BB56E6B6AE2C9A4A62467FD056DB96E5B8_size295_w547_h353.png\\\"]\",\n\t\t\t\"description\": \"honeycomb独家冠名\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourStarCount\\\":0,\\\"oneStarCount\\\":1160,\\\"threeStarCount\\\":61,\\\"twoStarCount\\\":60}\",\n\t\t\t\"performanceScore\": 9.5,\n\t\t\t\"commentTotal\": 3,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 1281,\n\t\t\t\"performanceScorePeople\": 2,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"chengshang\",\n\t\t\t\"topDeadline\": 1644993525000,\n\t\t\t\"showTime\": 1644422399999,\n\t\t\t\"finishTime\": 1645199999999,\n\t\t\t\"createTime\": 1644400035000,\n\t\t\t\"updateTime\": 1655285040953\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6841299661978865683\",\n\t\t\t\"title\": \"测试谁是谁\",\n\t\t\t\"category\": \"variety\",\n\t\t\t\"platform\": \"[\\\"芒果TV\\\"]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/CF92724AE2B8A857465229A93DA57C2CF894B5F2_size93_w487_h681.jpg\\\"]\",\n\t\t\t\"description\": \"定时发送到发送到发送到发的风\",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":1,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":162,\\\"threeHalfStarCount\\\":2,\\\"threeStarCount\\\":1,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":0}\",\n\t\t\t\"performanceScore\": 0.0,\n\t\t\t\"commentTotal\": 2,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 166,\n\t\t\t\"performanceScorePeople\": 0,\n\t\t\t\"searchHeat\": 0,\n\t\t\t\"operator\": \"chengshang\",\n\t\t\t\"topDeadline\": 1655740799999,\n\t\t\t\"showTime\": 1655135999999,\n\t\t\t\"finishTime\": 1655308799999,\n\t\t\t\"createTime\": 1642748103000,\n\t\t\t\"updateTime\": 1656913440474\n\t\t}, {\n\t\t\t\"status\": 1,\n\t\t\t\"dramaId\": \"6874236891051335728\",\n\t\t\t\"title\": \"南瓜船比赛\",\n\t\t\t\"category\": \"tv-play\",\n\t\t\t\"platform\": \"[\\\"优酷视频\\\"]\",\n\t\t\t\"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/EFF44FA1E00AAE2A2525AD447F85B5BA2CBFCFCB_size86_w487_h681.jpg\\\"]\",\n\t\t\t\"description\": \"ceshsishifasd \",\n\t\t\t\"onlineStatus\": 1,\n\t\t\t\"publicScore\": 4.5,\n\t\t\t\"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":10,\\\"fourStarCount\\\":10,\\\"oneStarCount\\\":140,\\\"threeStarCount\\\":11,\\\"twoStarCount\\\":10}\",\n\t\t\t\"performanceScore\": 5.6667,\n\t\t\t\"commentTotal\": 54,\n\t\t\t\"commentPeople\": 0,\n\t\t\t\"publicScorePeople\": 181,\n\t\t\t\"performanceScorePeople\": 3,\n\t\t\t\"searchHeat\": 2,\n\t\t\t\"operator\": \"chengshang\",\n\t\t\t\"topDeadline\": 1654703999999,\n\t\t\t\"showTime\": 1654099199999,\n\t\t\t\"finishTime\": 1655222399999,\n\t\t\t\"createTime\": 1642149373000,\n\t\t\t\"updateTime\": 1655281140741\n\t\t}]\n\t},\n\t\"succeed\": true,\n\t\"msg\": \"success\"\n}\n  const isValidating = false\n  const mutate = ()=>{}\n  return {\n    productionList: data?.data?.list || [],\n    pagination: data?.data?.pagination || {},\n    isValidating,\n    mutate,\n  };\n\n}\n\n// 更新作品截止时间 /wind-vane-backend/drama/operate/updateDramaTopDeadline\nexport function updateProductionTime(params: TopDeadlineInfo) {\n  return request(`${ requestBasePath }/wingvate/wind-vane-backend/drama/operate/updateDramaTopDeadline?${ stringify(params) }`);\n}\n\n\n// 获取指定作品评分变化 POST  /wind-vane-backend/statistics/public-score/fluctuate\nexport function useGetProductionCountChange(productionList: string[]) {\n  // const { data, isValidating } = useSWR(productionList?.length ? [`${ requestBasePath }/wingvate/wind-vane-backend/statistics/public-score/fluctuate`, productionList] : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: productionList\n  //     }\n  //   }\n  // );\n\n  // return {\n  //   productionCountChange: TransKvData(data?.data || [], 'dramaId', 'publicScoreFluctuate'),\n  //   countChangeLoading: isValidating,\n  // };\n  return {\n    productionCountChange: TransKvData([], 'dramaId', 'publicScoreFluctuate'),\n    countChangeLoading: false,\n  };\n}\n\n// 获取指定作品新增评论数 /wind-vane-backend/statistics/comment/growth-count\nexport function useGetProductionNewCount(productionList: string[]) {\n  // const { data, isValidating } = useSWR(productionList?.length ? [`${ requestBasePath }/wingvate/wind-vane-backend/statistics/comment/growth-count`, productionList] : null,\n  //   {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: productionList\n  //     }\n  //   }\n  // );\n\n  // return {\n  //   productionNewCount: TransKvData(data?.data || [], 'dramaId', 'commentGrowthCount'),\n  //   newCountLoading: isValidating,\n  // };\n  return {\n    productionNewCount: TransKvData( [], 'dramaId', 'commentGrowthCount'),\n    newCountLoading: false,\n  };\n\n}","import moment from 'moment';\n\n/**\n*获取年份区间的每一个年份，返回年份数组\n*@method getEveryYear\n*@start_year {date} 开始年份\n*@end_year   {date} 结束年份\n*@return {arr} 返回年份数组\n*/\n\nexport function getEveryYear(start_year, end_year) {\n  const yearList = [end_year];\n\n  if (start_year === end_year) return yearList;\n  let i = 1;\n\n  // eslint-disable-next-line no-constant-condition\n  while ( true ) {\n    const date = yearList[i - 1] - 1;\n\n    yearList.push(date);\n    if (date === start_year) {\n      break;\n    }\n    i++;\n  }\n\n  return yearList;\n}\n\nexport function getYearList() {\n  let nowYear = moment().year();\n  const nowMonth = moment().month() + 1;\n\n  if (nowMonth >= 12) {\n    nowYear++;\n  }\n  const yearList = getEveryYear(2021, nowYear);\n\n  return yearList.reduce((pre, item) => {\n    pre[item + '@year'] = `${ item }年度`;\n\n    return pre;\n  }, {});\n}\n\n// 作品类型\nexport const ProductionTypes = {\n  'lastest': '实时作品',\n  'newTop': '置顶作品',\n  ... getYearList(),\n};\nexport const ProductionTypesMaps = Object.entries(ProductionTypes).map(([value, label]) => ({ value, label }));\n\nexport const SortTypes = {\n  'createTime': '时间',\n  'publicScore': '大众评分'\n};\nexport const SortTypesMaps = Object.entries(SortTypes).map(([value, label]) => ({ value, label }));\n","import React, { useState, useCallback } from 'react';\nimport { Modal, Row, Col } from 'antd';\nimport ExpTime from '@/components/ExpTime';\nimport { ProductionItem } from '../types';\n\ninterface Props{\n  visible: boolean;\n  handleHidden: () => void;\n  handleOk: (time: any) => void;\n  targetProduction: ProductionItem;\n}\nfunction SelectTimeModal(props: Props) {\n\n  const { visible, handleHidden, handleOk, targetProduction } = props;\n  const [value, setValue] = useState('');\n  \n  const onOk = useCallback(() => {\n    handleOk(value);\n  }, [handleOk, value]);\n\n  return (\n    <Modal title=\"置顶时间选择\" visible={ visible } onOk={ onOk } onCancel={ handleHidden }>\n      <Row>\n        <Col style={{ textAlign: 'right' }} span={ 6 }>置顶到：</Col>\n        <Col span={ 18 }>\n          <ExpTime value={ value || targetProduction?.topDeadline } onChange={ setValue } />\n        </Col>\n      </Row>\n    </Modal>\n  );\n}\n\nexport default SelectTimeModal;","import moment from 'moment';\n\n\n// 新上映作品 作品上映时间 - 当前时间 <= 7天\nexport function getIsNewProduction(time: number) {\n  const pre7Day = moment().add(-7, 'days').valueOf();\n\n  return time > pre7Day;\n}\n","import React, { FC, useCallback, useState, useRef, useMemo } from 'react';\nimport { Link } from 'umi';\nimport moment from 'moment';\nimport QueryTable, { OnSearch, Props as QueryTableProps } from '@/components/QueryTable';\nimport { timeRender, OmitCell } from '@/components/Table';\nimport { useGetProductionList, updateProductionTime, useGetProductionCountChange, useGetProductionNewCount } from './services';\n// import { } from './types';\nimport { withAuthorized } from '@/utils/Authorized';\nimport { Role, getAuthority } from '@/utils/authority';\nimport { Input, Button, message } from 'antd';\nimport { ProductionClass, ProductionClassMaps, ProductionStatusMaps } from '@/utils/constant.js';\nimport { ProductionTypesMaps, SortTypesMaps, getEveryYear, getYearList } from './constant.js';\nimport { addAll } from '@/utils/functions';\nimport PreviewImg from '@/components/PreviewImg';\nimport Countdown from '@/components/Countdown';\nimport SelectTimeModal from './components/SelectTimeModal';\nimport { ProductionItem } from './types';\nimport style from './index.less';\nimport { getIsNewProduction } from './functions';\nimport { Online, Outline, ProductionAdjustStatus } from '@/components/miniComponents';\n\nconst PAGESIZE = 10;\nconst formItemLayout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 }\n};\nconst textShortItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 }\n};\nconst authority = getAuthority();\nconst hasPushBtn = (authority.indexOf(Role.SYSTEM) >= 0) || (authority.indexOf(Role.WORKS) >= 0);\n\nconst SORT_TYPE = 'desc';\nconst initSearch = {\n  pagination: { pageSize: PAGESIZE, current: 1 },\n  query: {},\n  sort: { type: SORT_TYPE, key: 'createTime' }\n};\n\nconst Production: FC = () => {\n  const formRef = useRef<any>();\n  const queryTable = useRef<any>();\n  const [requestBody, setRequestBody] = useState(initSearch);\n  const [selectTimeVisible, setSelectTimeVisible] = useState(false);\n  const [targetProduction, setTargetProduction] = useState<ProductionItem>({});\n\n  const { productionList, pagination, isValidating, mutate } = useGetProductionList(requestBody);\n  console.log('productionList', productionList, pagination, isValidating, mutate);\n\n\n  const productionIds = useMemo(() => {\n    const ids = productionList?.map((item: ProductionItem) => item?.dramaId);\n\n    return ids;\n  }, [productionList]);\n\n  const { productionCountChange, countChangeLoading } = useGetProductionCountChange(productionIds);\n  const { productionNewCount, newCountLoading } = useGetProductionNewCount(productionIds);\n\n  const handleHidden = () => {\n    setSelectTimeVisible(false);\n  };\n  const handleShow = (record: ProductionItem) => {\n    setSelectTimeVisible(true);\n    setTargetProduction(record);\n  };\n\n  const columns = [\n    {\n      title: '作品',\n      dataIndex: 'title',\n      render: (text: string, record: ProductionItem) => (\n        <>\n          <Link to={ `/content-manage/production-manage/${ record.dramaId }` }>\n            <p>{text}</p>\n          </Link>\n          {record?.onlineStatus === 1 ? <Online /> : <Outline />}\n        </>\n      )\n    },\n    {\n      title: '海报缩略图',\n      dataIndex: 'coverImage',\n      render: (text: string) => {\n        const imgList = text ? JSON.parse(text) : [];\n\n        return imgList?.length ? <PreviewImg imgUrls={ imgList[0] } placement=\"right\" /> : <p />;\n      }\n    },\n    {\n      title: '品类',\n      dataIndex: 'category',\n      render: (text: string) => ProductionClass[text]\n    },\n    { title: '大众评分', dataIndex: 'publicScore', render: (text: string) => Number(text).toFixed(1) },\n    {\n      title: '大众评分变化',\n      render: (_: string, record: ProductionItem) => (Number(productionCountChange[record.dramaId] || 0).toFixed(1))\n    },\n    { title: '专业评分', dataIndex: 'performanceScore', render: (text: string) => Number(text).toFixed(1) },\n    {\n      title: '评价增长条数',\n      render: (_: string, record: ProductionItem) => (productionNewCount[record.dramaId] || 0)\n    },\n    { title: '评价总条数', dataIndex: 'commentTotal' },\n    {\n      title: '新上映作品',\n      dataIndex: 'showTime',\n      align: 'center',\n      render: (text: number, record: ProductionItem) => {\n        const isNewProduction = getIsNewProduction(text);\n\n        return (\n          <>\n            {isNewProduction ? <p style={{ color: 'red' }}>是</p> : <p>否</p>}\n            <p><Countdown time={ record?.topDeadline } style={{ fontSize: '14px', color: 'red' }} overTimeText=\"\" /></p>\n            {hasPushBtn ? <Button type=\"primary\" size=\"small\" onClick={ () => handleShow(record) }>新片置顶</Button> : ''}\n          </>\n        );\n      }\n    },\n    {\n      title: '数据状态',\n      render: (_: string, record: ProductionItem) => <ProductionAdjustStatus isCol={ true } subjectId={ record.dramaId } />\n    },\n    {\n      title: '作品管理',\n      dataIndex: 'dramaId',\n      render: (text: string) => (\n        <Link to={ `/content-manage/production-manage/${ text }` }>\n          <Button type=\"primary\">作品管理</Button>\n        </Link>)\n    },\n  ];\n\n\n  const formItem: QueryTableProps['formItem'] = [\n    {\n      name: 'title',\n      label: '名称',\n      renderCom: 'input',\n      span: 3,\n      comProps: {\n        placeholder: '请输入作品名称'\n      },\n      itemProps: textShortItemLayout\n    },\n    {\n      name: 'create_at',\n      span: 4,\n      label: '上映时间',\n      renderCom: 'rangePicker',\n      comProps: {\n        showTime: false\n      }\n    },\n    {\n      name: 'online_time',\n      span: 4,\n      label: '在播时间',\n      renderCom: 'datePicker',\n      comProps: {\n        picker: 'month'\n      }\n    },\n    {\n      name: 'category',\n      span: 3,\n      label: '品类',\n      renderCom: 'select',\n      comProps: {\n        options: ProductionClassMaps\n      },\n      itemProps: textShortItemLayout\n    },\n    {\n      name: 'onlineStatus',\n      span: 3,\n      label: '状态',\n      renderCom: 'select',\n      comProps: {\n        options: ProductionStatusMaps\n      },\n      itemProps: textShortItemLayout\n    },\n    {\n      name: 'type',\n      span: 4,\n      label: '作品类型',\n      renderCom: 'select',\n      comProps: {\n        options: ProductionTypesMaps\n      }\n    },\n    {\n      name: 'sort',\n      span: 3,\n      label: '排序',\n      renderCom: 'select',\n      comProps: {\n        options: SortTypesMaps,\n        allowClear: false,\n      },\n      itemProps: {\n        initialValue: 'createTime',\n        ...textShortItemLayout\n      }\n    }\n  ];\n\n  const handleSearch = useCallback((params: any) => {\n    const { pagination: page, query: { category, type, title, create_at = [], online_time, onlineStatus, sort } } = params;\n    const proTypeObj: any = {};\n    const sortObj: any = {};\n    const nowTime = new Date().getTime();\n\n    if ( type === 'lastest') {\n      proTypeObj.startFinishTime = nowTime;\n    } else if (type === 'newTop') {\n      proTypeObj.startTopDeadline = nowTime;\n      sortObj.type = 'asc';\n      sortObj.key = 'topDeadline';\n    } else if ( type?.indexOf('year') >= 0 ) {\n      const [year] = type.split('@');\n\n      proTypeObj.startShowTime = moment(`${ year - 1 }-12-1`).valueOf();\n      proTypeObj.endShowTime = moment(`${ year }-11-30`).valueOf();\n    }\n\n    // 上映时间\n    const openTime = {\n      start: (create_at && create_at[0] ? moment(create_at[0]).valueOf() : undefined),\n      end: (create_at && create_at[1] ? moment(create_at[1]).valueOf() : undefined),\n    };\n\n    // 在播时间\n    const onLineTime = {\n      start: online_time ? moment(online_time).startOf('month').valueOf() : undefined,\n      end: online_time ? moment(online_time).endOf('month').valueOf() : undefined,\n    };\n\n    const request = {\n      pagination: page,\n      query: {\n        category,\n        title,\n        startShowTime: openTime?.start,\n        endShowTime: onLineTime?.end || openTime?.end,\n        startFinishTime: onLineTime?.start,\n        onlineStatus,\n        ...proTypeObj\n      },\n      sort: {\n        type: SORT_TYPE,\n        key: sort || 'createTime',\n        ...sortObj\n      }\n    };\n\n    setRequestBody(request);\n  }, []);\n\n  const handleUpdateTime = useCallback(async (time: any ) => {\n    if (!time) {\n      message.error('请选择时间！');\n\n      return;\n    }\n    try {\n      const res = await updateProductionTime({\n        dramaId: targetProduction?.dramaId,\n        topDeadline: moment(time).valueOf()\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        handleHidden();\n        mutate();\n      }\n    } catch (error) {\n      message.error('服务器出问题啦！');\n    }\n  }, [targetProduction, mutate]);\n\n  return (\n    <div className={ style.productionWrap }>\n      {selectTimeVisible\n        ? (\n          <SelectTimeModal visible={ selectTimeVisible }\n            targetProduction={ targetProduction }\n            handleHidden={ handleHidden }\n            handleOk={ handleUpdateTime }\n          />)\n        : null}\n      <QueryTable notQueryWhilestart={ true }\n        formItem={ formItem }\n        columns={ columns }\n        rowKey=\"dramaId\"\n        formRef={ formRef }\n        ref={ queryTable }\n        query={ handleSearch }\n        list={ productionList }\n        total={ pagination?.total || 0 }\n        loading={ isValidating || countChangeLoading || newCountLoading }\n        formItemLayout={ formItemLayout }\n        plusAction={ (\n          <Link to=\"/content-manage/production-data\">\n            <Button type=\"primary\">添加新作品</Button>\n          </Link>) }\n      />\n    </div>\n  );\n};\n\nexport default withAuthorized(Production, [Role.SYSTEM, Role.WORKS, Role.COMMENT, Role.EXPERT]);\n","import { stringify } from 'qs';\nimport useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport cookie from '@/utils/cookie.js';\n\nimport { requestBasePath } from '@/services/login';\n\nexport const BUSINESS_ID = 'com_wind_vane';\n\n\n// 移入黑名单 POST  http://test0.galio.ifeng.com/api/picus-namelist/addNameList\nexport function enterBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/addNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 移出黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/removeNameList\nexport function outBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/removeNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 查询黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/queryNameList\nexport function useGetBlackList(requestBody: any) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody ? [`${ requestBasePath }/blackList/api/picus-namelist/queryNameList`, requestBody] : null, {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody\n  //     }\n  //   }\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"msg\": \"success\",\n    \"data\": {\n      \"pagination\": {\n        \"current\": 1,\n        \"total\": 1,\n        \"pageSize\": 10,\n        \"countPage\": 1\n      },\n      \"sort\": {\n        \"type\": \"desc\",\n        \"key\": \"createTime\"\n      },\n      \"list\": [{\n        \"typeContent\": \"黑名单\",\n        \"createTime\": \"2022-04-25 10:44:09\",\n        \"businessId\": \"com_wind_vane\",\n        \"description\": \"Honeycomb\",\n        \"updateTime\": \"2022-04-25 10:44:09\",\n        \"id\": 882941,\n        \"category\": \"userId\",\n        \"deadline\": \"2122-04-25 10:44:09\",\n        \"content\": \"6903959929825005666\",\n        \"operator\": \"maoliang\",\n        \"status\": 1\n      }]\n    }\n  }\n  const isValidating = false\n  const mutate = () => { }\n\n  return {\n    blackList: data?.data?.list || [],\n    pagination: data?.data?.pagination || {},\n    isValidating,\n    mutate\n  };\n}","function debounce(func, wait, imme) {\n  let timer;\n\n  return function() {\n    if (imme && !timer) {\n      func.apply(this, arguments);\n    }\n    timer && clearTimeout(timer);\n    timer = setTimeout(() => func.apply(this, arguments), wait);\n  };\n}\n\nexport { debounce };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { getTransitionName } from '../_util/motion';\nvar Popover = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var customizePrefixCls = _a.prefixCls,\n      title = _a.title,\n      content = _a.content,\n      otherProps = __rest(_a, [\"prefixCls\", \"title\", \"content\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var getOverlay = function getOverlay(prefixCls) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, getRenderPropValue(content)));\n  };\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, otherProps, {\n    prefixCls: prefixCls,\n    ref: ref,\n    overlay: getOverlay(prefixCls),\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', otherProps.transitionName)\n  }));\n});\nPopover.displayName = 'Popover';\nPopover.defaultProps = {\n  placement: 'top',\n  trigger: 'hover',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  overlayStyle: {}\n};\nexport default Popover;","require('../../../modules/es.array.sort');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').sort;\n","var sort = require('../array/virtual/sort');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.sort;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.sort) ? sort : own;\n};\n","var trim = require('../string/virtual/trim');\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it === 'string' || it === StringPrototype\n    || (it instanceof String && own === StringPrototype.trim) ? trim : own;\n};\n","require('../../../modules/es.string.trim');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').trim;\n","var parent = require('../../es/instance/sort');\n\nmodule.exports = parent;\n","var parent = require('../../es/instance/trim');\n\nmodule.exports = parent;\n","// TODO: use something more complex like timsort?\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    mergeSort(array.slice(0, middle), comparefn),\n    mergeSort(array.slice(middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n  var result = [];\n\n  while (lindex < llength || rindex < rlength) {\n    if (lindex < llength && rindex < rlength) {\n      result.push(comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]);\n    } else {\n      result.push(lindex < llength ? left[lindex++] : right[rindex++]);\n    }\n  } return result;\n};\n\nmodule.exports = mergeSort;\n","var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return String(x) > String(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aFunction(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort.call(array) : nativeSort.call(array, comparefn);\n\n    var items = [];\n    var arrayLength = toLength(array.length);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) items.push(array[index]);\n    }\n\n    items = internalSort(items, getSortCompare(comparefn));\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n"],"sourceRoot":""}