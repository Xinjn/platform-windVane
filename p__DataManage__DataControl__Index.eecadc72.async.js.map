{"version":3,"sources":["webpack://windvane/./src/components/index.less?d340","webpack://windvane/./src/components/CommentProductionDetail.tsx","webpack://windvane/./src/components/DramaContentSearch/index.tsx","webpack://windvane/./src/components/DramaContentSearch/services.ts","webpack://windvane/./src/components/miniComponents.tsx","webpack://windvane/./src/pages/ContentManage/HotManage/services.ts","webpack://windvane/./node_modules/@ant-design/charts/es/line/index.js","webpack://windvane/./src/pages/DataManage/DataControl/Index.tsx","webpack://windvane/./src/pages/UserManage/BlackList/services.ts","webpack://windvane/./src/utils/util.ts","webpack://windvane/./node_modules/antd/es/popover/index.js"],"names":["module","exports","CommentProductionDetail","props","ref","productionId","btnRender","imgSpan","detailSpan","btnSpan","useGetProductionDetail","productionDetail","mutate","detailLoading","coverImage","useMemo","JSON","parse","useImperativeHandle","refreshDetail","span","length","className","style","src","title","fontSize","Number","publicScore","toFixed","performanceScore","subjectId","forwardRef","Option","timeout","fetch","value","callback","fake","searchDramaContent","onlineStatus","then","res","list","data","clearTimeout","DramaContentSearch","onChange","width","useState","setlist","handleSearch","inputVal","resList","handleChange","dramaId","totalItem","showSearch","labelInValue","placeholder","defaultActiveFirstOption","showArrow","filterOption","onSearch","notFoundContent","d","async","params","request","requestBasePath","method","body","query","sort","type","key","pagination","pageSize","current","Online","color","verticalAlign","Outline","ProductionOutline","production","refresh","isOnline","handleOnOrOutLine","useCallback","productionOnOrOutLine","code","error","placement","onConfirm","okText","cancelText","danger","CommontOutline","commont","subjectType","checkStatus","commontOnOrOutLine","commentId","id","console","log","GoodComment","notGoodComment","useName","currentScore","currentLevel","showModel","setShowModel","changeScore","setChangeScore","level","setLevel","score","useRef","handleCancle","cancleHighQualityComment","isHighQualityStatus","hideModal","handleToGood","setHighQuality","rate","inputChange","e","temp","inputChangedDebounce","debounce","visible","onOk","onCancel","min","UserStatus","status","isExpert","UserBlack","user","isEnter","enterBlackList","typeContent","businessId","description","nickName","category","content","userId","outBlackList","idList","message","ProductionAdjustStatus","isCol","useGetAdjustGrade","adjustGrade","text","isValidating","opUser","marginLeft","getRealTimeDramaContentList","getHeatRecommendationList","getDramaAdjustList","batchGetDramaContentById","dramaIdList","heatAdjust","adjustList","heatRecommendationAdjust","getDramaContentById","upsertHotList","dataList","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","LineChart","chartRef","_a","height","loading","loadingTemplate","errorTemplate","rest","_b","useChart","chart","container","useEffect","getChart","TabPane","RangePicker","timeTypelist","label","timeType","unit","DataControl","showDramaDataInfo","setShowDramaDataInfo","currentTimeType","setCurrentTimeType","tabActiveKey","setTabActiveKey","growthTrendList","setGrowthTrendList","publicScoreTrendList","setPublicScoreTrendList","dramaInfo","setDramaInfo","totalGrowTrend","setTotalGrowTrend","averageScore","setAverageScore","dates","setDates","userAuthorityList","getAuthority","location","useLocation","monthPickerValue","setMonthPickerValue","showDramaSearch","dramaSearchForm","showDataInputControl","Role","getLineData","startTime","endTime","activeType","formatTypeSet","diffType","formatType","currentActiveType","actionHandle","getGrowTrendList","getPublicScoreTrendList","responseList","totalCount","item","count","totalNum","moment","subtract","format","existData","r","time","formatTime","push","changeTimeType","activeTab","currentIsMonthPickerSelected","showTime","finishTime","realActiveTab","valueOf","diffDays","diff","diffMonths","startMonth","endMonth","showTimeMonth","showTimeMonthMoment","rangePickerChange","getConfig","xField","yField","point","size","shape","fill","stroke","lineWidth","tooltip","formatter","datum","name","state","active","shadowColor","shadowBlur","theme","geometries","diamond","interactions","tabsChange","currentActiveTimeData","queryDrama","labelValue","disabledDate","tooLate","tooEarly","dataInputSuccessHandle","onFinish","form","gutter","rules","required","marginTop","activeKey","tabBarExtraContent","justify","onClick","picker","onCalendarChange","val","tab","direction","marginRight","ScoreNumberControl","DataInputControl","getFieldValue","successHandle","DataTempleteUpload","withAuthorized","BUSINESS_ID","useGetBlackList","requestBody","blackList","func","wait","imme","timer","apply","this","arguments","Popover","customizePrefixCls","prefixCls","otherProps","_React$useContext","getPrefixCls","getOverlay","concat","rootPrefixCls","overlay","transitionName","displayName","defaultProps","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"],"mappings":"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","file":"p__DataManage__DataControl__Index.eecadc72.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chunkTitle\":\"_2pr8FO\",\"chunkTitleText\":\"_EHsePZ\",\"commonItem\":\"_3LVpDJ\",\"productionImg\":\"_35t7Sc\",\"productionInfo\":\"_3eCvkM\",\"productionInfoText\":\"_qHn3fA\",\"expertIdentity\":\"_1Iwkzp\",\"userCommontHead\":\"_3NP8X5\",\"userCommontInfoW\":\"_245GOa\",\"userCommontInfo\":\"_3V2svW\",\"ChildCommontListWrap\":\"_Y_2DaH\",\"footerPage\":\"_HdL8xY\",\"showChild\":\"_pZexIE\",\"showChildText\":\"_1ut6DW\",\"commontPre\":\"_3tC4Kh\",\"AddPraiseNum\":\"_2PTttn\",\"AddPraiseNumBtn\":\"_21QG_I\",\"pourCommont\":\"_1nhAUO\",\"goodComment\":\"_16yqxu\"};","import React, { ReactElement, FC, useMemo, forwardRef, useImperativeHandle } from 'react';\nimport { Row, Col, Button } from 'antd';\nimport moment from 'moment';\nimport style from './index.less';\nimport { useGetProductionDetail } from '@/services/publicServices';\nimport { ProductionAdjustStatus } from '@/components/miniComponents';\n\nexport interface Props {\n  productionId: string;\n  btnRender?: (score: number) => any;\n  imgSpan?: number;\n  detailSpan?: number;\n  btnSpan?: number;\n}\n\n\nconst CommentProductionDetail: FC<Props> = (props: Props, ref: any) => {\n  const { productionId, btnRender, imgSpan, detailSpan, btnSpan } = props;\n  const { productionDetail, detailLoading, mutate } = useGetProductionDetail(productionId);\n  const coverImage = useMemo(() => {\n    return productionDetail?.coverImage && JSON.parse(productionDetail?.coverImage);\n  }, [productionDetail]);\n\n  useImperativeHandle(ref, () => ({\n    refreshDetail: mutate,\n    productionDetail,\n  }));\n\n  return (\n    <Row>\n      <Col span={ imgSpan ?? 4 }>\n        {coverImage?.length ? <img className={ style.productionImg } src={ coverImage[0] } /> : ''}\n      </Col>\n      <Col span={ detailSpan ?? 7 } className={ style.productionInfo }>\n        <h3>{productionDetail?.title}</h3>\n        <p style={{ fontSize: 16 }}>大众评分：<strong>{Number(productionDetail?.publicScore).toFixed(1)}</strong></p>\n        <p>专业评分：{Number(productionDetail?.performanceScore).toFixed(1)}</p>\n        <p>数据状态：<ProductionAdjustStatus subjectId={ productionId } /></p>\n      </Col>\n      <Col span={ btnSpan ?? 10 }>\n        {btnRender && btnRender(productionDetail?.performanceScore)}\n      </Col>\n    </Row>\n  );\n};\n\nexport default forwardRef(CommentProductionDetail);\n","import React, { FC, useState } from 'react';\nimport { Select, Spin, Empty } from 'antd';\nimport { searchDramaContent } from './services';\n\nconst { Option } = Select;\n\nlet timeout;\n\nfunction fetch(value: string, callback: any) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n  function fake() {\n    searchDramaContent({ title: value, onlineStatus: '1' }).then((res: any) => {\n      const list = res?.data?.list || [];\n\n      callback(list);\n    });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n\ninterface Props {\n  value?: any;\n  onChange?: (time?: string) => void;\n  width?: number|string;\n}\n\nconst DramaContentSearch: FC<Props> = (props: any) => {\n  const { value, onChange, width } = props;\n  const [list, setlist] = useState<any[]>([]);\n\n  const handleSearch = (inputVal: string) => {\n    if (inputVal) {\n      fetch(inputVal, (resList: any[]) => setlist(resList));\n    } else {\n      setlist([]);\n    }\n  };\n\n  const handleChange = (inputVal: string) => {\n    const { value } = inputVal;\n    const { dramaId } = JSON.parse(value);\n\n    onChange({ ...inputVal, totalItem: value, value: dramaId });\n  };\n\n  return (\n    <Select showSearch={ true }\n      labelInValue={ true }\n      value={ value }\n      style={{ width: width || '100%' }}\n      placeholder=\"输入名称搜索（模糊搜索）\"\n      defaultActiveFirstOption={ true }\n      showArrow={ false }\n      filterOption={ false }\n      onSearch={ handleSearch }\n      onChange={ handleChange }\n      notFoundContent={ <Empty /> }\n    >\n      {list.map((d: any) => (<Option value={ JSON.stringify(d) } key={ d.dramaId }>{d.title}</Option>))}\n    </Select>\n  );\n};\n\nexport default DramaContentSearch;","import { Pagenation } from './../../types/types.d';\nimport request from '@/utils/request';\n\nimport { requestBasePath } from '@/services/login';\n\n\n// 获取搜索列表\nexport async function searchDramaContent(params: {title?: string; termTitle?: string; onlineStatus?: string; category?: string}) {\n  return await request(`${ requestBasePath }/wingvate/wind-vane-backend/drama/query/queryDramaContentList`, {\n    method: 'POST',\n    body: {\n      query: params,\n      sort: { type: 'desc', key: 'createTime' },\n      pagination: { pageSize: 100, current: 1 }\n    }\n  });\n}\n","import React, { FC, useCallback, useState, useRef, useMemo } from 'react';\nimport {\n  Button,\n  message,\n  Popconfirm,\n  Modal,\n  Row,\n  Col,\n  InputNumber,\n} from 'antd';\nimport {\n  productionOnOrOutLine,\n  userOnOrOutLine,\n  commontOnOrOutLine,\n  useGetAdjustGrade,\n  setHighQuality,\n  cancleHighQualityComment,\n} from '@/services/publicServices';\nimport {\n  enterBlackList,\n  outBlackList,\n  BUSINESS_ID,\n} from '@/pages/UserManage/BlackList/services';\nimport {\n  ProductionDetailInfo,\n  UserDetailInfo,\n  CommontDetailInfo,\n} from '@/types/types';\nimport { debounce } from '@/utils/util';\n\nfunction Online() {\n  return <span style={{ color: '#333', verticalAlign: 'middle' }}>上线</span>;\n}\nfunction Outline() {\n  return <span style={{ color: 'red', verticalAlign: 'middle' }}>下线</span>;\n}\n\n// 作品上下线\ninterface ProductionOutlineProps {\n  production: ProductionDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction ProductionOutline(props: ProductionOutlineProps) {\n  const { production, refresh, style } = props;\n  const isOnline = useMemo(() => {\n    return production?.onlineStatus === 1;\n  }, [production]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await productionOnOrOutLine({\n        dramaId: production?.dramaId,\n        onlineStatus: isOnline ? 0 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, production, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该作品吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 用户上下线\ninterface UserOutlineProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserOutline(props: UserOutlineProps) {\n  const { user, refresh, style, isExpert } = props;\n  const isOnline = useMemo(() => {\n    return user?.status === 1;\n  }, [user]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await userOnOrOutLine({\n        userId: user?.userId,\n        status: isOnline ? 110 : 1,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {}\n  }, [isOnline, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      // title={ isExpert\n      //   ? `确认将该专家设置为 ${ isOnline ? '封禁' : '正常' } 吗`\n      //   : `确认将 ${ isOnline ? '移入' : '移出' } 黑名单吗` }\n      title={ `确认将该用户设置为 ${ isOnline ? '封禁' : '正常' } 状态吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          封禁\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          正常\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 评论上下线\ninterface CommontOutlineProps {\n  commont: CommontDetailInfo;\n  refresh?: () => void;\n  style?: any;\n}\nfunction CommontOutline(props: CommontOutlineProps) {\n  const { commont, refresh, style, subjectType = 'default' } = props;\n  const isOnline = useMemo(() => {\n    return commont?.checkStatus === 1;\n  }, [commont]);\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      const res: { code: number } = await commontOnOrOutLine({\n        commentId: commont?.id,\n        subjectId: commont?.subjectId,\n        checkStatus: isOnline ? 2 : 1,\n        subjectType,\n      });\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  }, [isOnline, commont, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认 ${ isOnline ? '下线' : '上线' } 该评论吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isOnline ? (\n        <Button danger={ true } style={ style }>\n          下线\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          上线\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 优质评论\nfunction GoodComment(props) {\n  const {\n    notGoodComment,\n    useName,\n    currentScore = 0,\n    currentLevel = 'lv.1',\n    commentId,\n    subjectId,\n    subjectType = '',\n    refresh,\n  } = props;\n  const [showModel, setShowModel] = useState(false);\n  const [changeScore, setChangeScore] = useState(currentScore);\n  const [level, setLevel] = useState(currentLevel);\n  const score = useRef(0);\n  const handleCancle = async () => {\n    // 取消优质评论\n    try {\n      await cancleHighQualityComment({\n        id: commentId,\n        subjectId,\n        isHighQualityStatus: false,\n        subjectType,\n      });\n    } catch (error) {\n      message.error('评优失败，请稍后再试');\n    }\n    refresh();\n  };\n\n  const hideModal = () => {\n    setShowModel(false);\n  };\n\n  const handleToGood = useCallback(async () => {\n    setTimeout(async () => {\n      try {\n        await setHighQuality({\n          id: commentId,\n          subjectId,\n          isHighQualityStatus: true,\n          rate: score.current,\n          subjectType,\n        });\n        message.success('操作成功');\n      } catch (error) {\n        message.error('评优失败，请稍后再试');\n      }\n\n      hideModal();\n      refresh();\n    }, 0);\n  }, []);\n\n  const show = () => {\n    setShowModel(true);\n  };\n\n  const inputChange = useCallback((e) => {\n    const temp = parseInt(currentScore + e);\n\n    if (temp <= 300) {\n      setLevel('lv.1');\n    } else if (temp <= 900) {\n      setLevel('lv.2');\n    } else if (temp <= 1900) {\n      setLevel('lv.3');\n    } else if (temp <= 3100) {\n      setLevel('lv.4');\n    } else {\n      setLevel('lv.5');\n    }\n    setChangeScore(temp);\n    score.current = temp;\n  }, []);\n\n  const inputChangedDebounce = useCallback(\n    debounce(inputChange, 600, false),\n    []\n  );\n\n  return (\n    <div>\n      {notGoodComment ? (\n        <Popconfirm placement=\"topLeft\"\n          title=\"确认该评论为优质吗？\"\n          onConfirm={ handleToGood }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>优质</Button>\n        </Popconfirm>\n      ) : (\n        // <Button type=\"primary\" onClick={show}>\n        //   优质\n        // </Button>\n        <Popconfirm placement=\"topRight\"\n          title=\"确认取消该评论的优质吗？\"\n          onConfirm={ handleCancle }\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Button danger={ true }>取消优质</Button>\n        </Popconfirm>\n      )}\n      <Modal title={ `设置${ useName }的评论为优质` }\n        visible={ showModel }\n        onOk={ handleToGood }\n        onCancel={ hideModal }\n        okText=\"确认\"\n        cancelText=\"取消\"\n      >\n        <Row>\n          <Col span={ 6 }>当前积分：</Col>\n          <Col span={ 8 }>{currentScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>增加优质积分：</Col>\n          <Col span={ 8 }>\n            <InputNumber min={ 1 }\n              onChange={ inputChangedDebounce }\n              style={{ width: '200px' }}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计积分：</Col>\n          <Col span={ 8 }>{changeScore}</Col>\n        </Row>\n        <Row>\n          <Col span={ 6 }>预计等级：</Col>\n          <Col span={ 8 }>{level}</Col>\n        </Row>\n      </Modal>\n    </div>\n  );\n}\n\n// 用户状态\ninterface UserStatusProps {\n  status: number;\n  style?: any;\n  isExpert?: boolean;\n}\nfunction UserStatus(props: UserStatusProps) {\n  const { status, style, isExpert } = props;\n\n  return status === 1 ? (\n    <span style={ style }>正常</span>\n  ) : (\n    <span style={{ color: 'red', ...style }}>封禁</span>\n  );\n  // {isExpert ? '禁用' : '黑名单'}\n}\n\n// 用户 黑名单\ninterface UserBlackProps {\n  user: UserDetailInfo;\n  refresh?: () => void;\n  style?: any;\n  isEnter?: boolean; // 移入黑名单\n}\nfunction UserBlack(props: UserBlackProps) {\n  const { user, refresh, style, isEnter } = props;\n\n  const handleOnOrOutLine = useCallback(async () => {\n    try {\n      let res: any = {};\n\n      if (isEnter) {\n        res = await enterBlackList({\n          typeContent: '黑名单',\n          businessId: 'com_wind_vane',\n          description: user?.nickName,\n          category: 'userId',\n          content: user?.userId,\n        });\n      } else {\n        res = await outBlackList({\n          idList: [user.id],\n        });\n      }\n\n      if (res?.code === 200) {\n        message.success('操作成功！');\n        refresh && refresh();\n      } else {\n        message.error(res?.message || '服务器出问题啦');\n      }\n    } catch (error) {}\n  }, [isEnter, user, refresh]);\n\n  return (\n    <Popconfirm placement=\"topRight\"\n      title={ `确认将该用户 ${ isEnter ? '移入' : '移出' } 黑名单吗` }\n      onConfirm={ handleOnOrOutLine }\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      {isEnter ? (\n        <Button danger={ true } style={ style }>\n          移入黑名单\n        </Button>\n      ) : (\n        <Button type=\"primary\" style={ style }>\n          移出黑名单\n        </Button>\n      )}\n    </Popconfirm>\n  );\n}\n\n// 作品调控状态\ninterface ProductionAdjustStatusProps {\n  subjectId: string;\n  style?: any;\n  isCol?: boolean;\n}\nfunction ProductionAdjustStatus(props: ProductionAdjustStatusProps) {\n  const { isCol, style, subjectId } = props;\n  const { adjustGrade, isValidating } = useGetAdjustGrade(subjectId);\n  const text = useMemo(() => {\n    switch (adjustGrade?.status) {\n      case 0:\n        return <span style={ style }>调控完成</span>;\n      case 1:\n        return <span style={{ color: '#1890ff', ...style }}>调控中</span>;\n      default:\n        return <span style={ style }>未调控</span>;\n    }\n  }, [adjustGrade?.status]);\n\n  return (\n    <>\n      {text}\n      {isCol\n        ? adjustGrade?.opUser && (\n        <p style={{ color: '#999' }}>{adjustGrade?.opUser || ''}最新调控</p>\n      )\n        : adjustGrade?.opUser && (\n        <span style={{ marginLeft: 8 }}>\n          ({adjustGrade?.opUser || ''}最新调控)\n        </span>\n      )}\n    </>\n  );\n}\n\nexport {\n  Online,\n  Outline,\n  ProductionOutline,\n  UserOutline,\n  CommontOutline,\n  UserStatus,\n  ProductionAdjustStatus,\n  UserBlack,\n  GoodComment,\n};\n","import request from '@/utils/request';\nimport { requestBasePath } from '@/services/login';\nimport { AdjustListItem, AdjustRecommentListItem } from './types';\n\n// 获取热门搜索数据\nexport async function getRealTimeDramaContentList() {\n  return await request(\n    `${requestBasePath}/wingvate/wind-vane-backend/manager/heat/list?size=12`\n  );\n}\n\n// 获取热门推荐列表\nexport async function getHeatRecommendationList() {\n  // return await request(\n  //   `${requestBasePath}/wingvate/wind-vane-backend/public/list/query/getRecomList`\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": [{\n      \"position\": 1,\n      \"listId\": \"6942453087697117255\",\n      \"type\": 1,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"剋可爱\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 2,\n      \"listId\": \"6943108316696416341\",\n      \"type\": 1,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"放飞梦想\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 3,\n      \"listId\": \"6841299667108499515\",\n      \"type\": 1,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"小羊专享哈哈哈哈哈哈超过两行打点我要看一下超了吗哈哈哈哈\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 4,\n      \"listId\": \"6942820186655301671\",\n      \"type\": 1,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"有多少个字有多少个字有多少个字阿阿阿\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 5,\n      \"listId\": \"6942820186655301712\",\n      \"type\": 1,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"谁都别动，开发测试数据\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 6,\n      \"listId\": \"6943480859743756308\",\n      \"type\": 2,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"你好\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 7,\n      \"listId\": \"6841299663685951574\",\n      \"type\": 1,\n      \"endTime\": 1655978523000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"官方片单9\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 8,\n      \"listId\": \"6943108316696416318\",\n      \"type\": 2,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"小叶真的哈哈哈\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 9,\n      \"listId\": \"6943381454248222808\",\n      \"type\": 2,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"公开片单\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 10,\n      \"listId\": \"6841299667460821055\",\n      \"type\": 2,\n      \"endTime\": 1656036907000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"片单新建修改\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 11,\n      \"listId\": \"6942453087697117217\",\n      \"type\": 2,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"学霸片单\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }, {\n      \"position\": 12,\n      \"listId\": \"6841299667855089737\",\n      \"type\": 2,\n      \"endTime\": 1655961866000,\n      \"operator\": \"guyq\",\n      \"updateTime\": \"2022-06-23T10:27:10\",\n      \"title\": \"神马玩意\",\n      \"followTotal\": 0,\n      \"updateTimeLong\": 1655951230000\n    }],\n    \"succeed\": true,\n    \"msg\": \"success\"\n  }\n\n  return data\n}\n\n// 获取调整项\nexport async function getDramaAdjustList() {\n  return await request(\n    `${requestBasePath}/wingvate/wind-vane-backend/manager/heat/adjust/list`\n  );\n}\n// 批量查询作品详情\nexport async function batchGetDramaContentById(dramaIdList: string[]) {\n  // return await request(\n  //   `${requestBasePath}/wingvate/wind-vane-backend/drama/query/batchGetDramaContentById`,\n  //   {\n  //     method: 'POST',\n  //     body: { dramaIdList },\n  //   }\n  // );\n\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": {\n      \"6874236891051335720\": {\n        \"status\": 1,\n        \"dramaId\": \"6874236891051335720\",\n        \"title\": \"神仙姐姐\",\n        \"category\": \"tv-play\",\n        \"platform\": \"[\\\"优酷视频\\\"]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_25/433D697B04AE782D4E6D646B8DEEFA1C6C9CEA2E_size247_w1080_h1512.jpg\\\"]\",\n        \"description\": \"神仙姐姐神仙姐姐神仙姐姐神仙姐姐神仙姐姐神仙姐姐神仙姐姐\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 7.4909,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":11,\\\"fourHalfStarCount\\\":6,\\\"fourStarCount\\\":9,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":1,\\\"threeHalfStarCount\\\":16,\\\"threeStarCount\\\":2,\\\"twoHalfStarCount\\\":10,\\\"twoStarCount\\\":0}\",\n        \"performanceScore\": 0.0,\n        \"commentTotal\": 28,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 55,\n        \"performanceScorePeople\": 0,\n        \"searchHeat\": 0,\n        \"operator\": \"chengshang\",\n        \"topDeadline\": 1642759685717,\n        \"showTime\": 1642175999999,\n        \"finishTime\": 1642262399999,\n        \"createTime\": 1641550090000,\n        \"updateTime\": 1656921240000\n      },\n      \"6841299653275684906\": {\n        \"status\": 1,\n        \"dramaId\": \"6841299653275684906\",\n        \"title\": \"C-TEST\",\n        \"category\": \"movie\",\n        \"platform\": \"[]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2021_49/F20891B688163778017A9360FD2F39B5418C6A49_size508_w831_h503.png\\\"]\",\n        \"description\": \"1\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 6.1667,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":0,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":1,\\\"oneStarCount\\\":0,\\\"threeHalfStarCount\\\":4,\\\"threeStarCount\\\":1,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":0}\",\n        \"performanceScore\": 7.6875,\n        \"commentTotal\": 3,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 6,\n        \"performanceScorePeople\": 16,\n        \"searchHeat\": 0,\n        \"operator\": \"zhangkl5\",\n        \"topDeadline\": 1638787843143,\n        \"showTime\": 1638201599999,\n        \"finishTime\": 1675353599999,\n        \"createTime\": 1638183052000,\n        \"updateTime\": 1656902040000\n      },\n      \"6948592037478273118\": {\n        \"status\": 65535,\n        \"dramaId\": \"6948592037478273118\",\n        \"title\": null,\n        \"category\": null,\n        \"platform\": null,\n        \"coverImage\": null,\n        \"description\": null,\n        \"onlineStatus\": null,\n        \"publicScore\": null,\n        \"publicScoreDistribution\": null,\n        \"performanceScore\": null,\n        \"commentTotal\": null,\n        \"commentPeople\": null,\n        \"publicScorePeople\": null,\n        \"performanceScorePeople\": null,\n        \"searchHeat\": null,\n        \"operator\": null,\n        \"topDeadline\": null,\n        \"showTime\": null,\n        \"finishTime\": null,\n        \"createTime\": null,\n        \"updateTime\": null\n      },\n      \"6841299653275684903\": {\n        \"status\": 1,\n        \"dramaId\": \"6841299653275684903\",\n        \"title\": \"C-TEST-3\",\n        \"category\": \"movie\",\n        \"platform\": \"[]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2021_49/F20891B688163778017A9360FD2F39B5418C6A49_size508_w831_h503.png\\\"]\",\n        \"description\": \"12\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 7.2,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":2,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":0,\\\"threeHalfStarCount\\\":1,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":1,\\\"twoStarCount\\\":1}\",\n        \"performanceScore\": 8.0,\n        \"commentTotal\": 2,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 5,\n        \"performanceScorePeople\": 4,\n        \"searchHeat\": 0,\n        \"operator\": \"zhangkl5\",\n        \"topDeadline\": 1638789502507,\n        \"showTime\": 1638201599999,\n        \"finishTime\": 1639756799999,\n        \"createTime\": 1638184718000,\n        \"updateTime\": 1656902040000\n      },\n      \"6821372143448629274\": {\n        \"status\": 1,\n        \"dramaId\": \"6821372143448629274\",\n        \"title\": \"我的姐姐\",\n        \"category\": \"movie\",\n        \"platform\": \"[\\\"爱奇艺\\\",\\\"腾讯视频\\\"]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2021_29/CA33361E2B58536EBC8494C5E1840312887F5BBF_size343_w1080_h1584.jpg\\\"]\",\n        \"description\": \"《我的姐姐》是殷若昕执导，游晓颖编剧，张子枫领衔主演，肖央特别主演，朱媛媛、段博文、梁靖康主演，金遥源、王圣迪特别出演的剧情电影 [1]  。\\n该片讲述了失去父母的姐姐在面对追求个人独立生活还是抚养弟弟的问题上，发展的一段亲情故事 [3]  。\\n该片于2021年4月2日在中国大陆上映 [4]  ，4月22日在北美、澳新上映 [28]  。\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 4.5,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":17,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":3,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":90,\\\"threeHalfStarCount\\\":1,\\\"threeStarCount\\\":7,\\\"twoHalfStarCount\\\":2,\\\"twoStarCount\\\":0}\",\n        \"performanceScore\": 7.5556,\n        \"commentTotal\": 56,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 120,\n        \"performanceScorePeople\": 9,\n        \"searchHeat\": 27,\n        \"operator\": \"jiajx3\",\n        \"topDeadline\": 1627018874000,\n        \"showTime\": 1619107199999,\n        \"finishTime\": 1721836799999,\n        \"createTime\": 1626415106000,\n        \"updateTime\": 1656901740000\n      },\n      \"6946047772109836308\": {\n        \"status\": 1,\n        \"dramaId\": \"6946047772109836308\",\n        \"title\": \"测试评分哎\",\n        \"category\": \"tv-play\",\n        \"platform\": \"[]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/049BC48042FC425F4E60A9341C1EB0A4C7C5348F_size979_w592_h800.png\\\"]\",\n        \"description\": \"我是简介哈哈哈\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 8.4,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":1,\\\"fourHalfStarCount\\\":100,\\\"fourStarCount\\\":1,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":1,\\\"threeHalfStarCount\\\":0,\\\"threeStarCount\\\":2,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":2}\",\n        \"performanceScore\": 0.0,\n        \"commentTotal\": 2,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 107,\n        \"performanceScorePeople\": 0,\n        \"searchHeat\": 0,\n        \"operator\": \"sunyf1\",\n        \"topDeadline\": 1656396954755,\n        \"showTime\": 1655827199999,\n        \"finishTime\": 1656604799999,\n        \"createTime\": 1656310574000,\n        \"updateTime\": 1656923340000\n      },\n      \"6841299653275684895\": {\n        \"status\": 1,\n        \"dramaId\": \"6841299653275684895\",\n        \"title\": \"测试测试\",\n        \"category\": \"movie\",\n        \"platform\": \"[]\",\n        \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2021_49/EB9AFBD9EB787A1B2A77C75F07C7027739D0ECEA_size30_w296_h296.jpg\\\"]\",\n        \"description\": \"12121\",\n        \"onlineStatus\": 1,\n        \"publicScore\": 8.4,\n        \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":101,\\\"fourHalfStarCount\\\":0,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":0,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":0,\\\"threeHalfStarCount\\\":0,\\\"threeStarCount\\\":2,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":0}\",\n        \"performanceScore\": 7.0,\n        \"commentTotal\": 0,\n        \"commentPeople\": 0,\n        \"publicScorePeople\": 103,\n        \"performanceScorePeople\": 3,\n        \"searchHeat\": 3,\n        \"operator\": \"qinyz\",\n        \"topDeadline\": 1638769152171,\n        \"showTime\": 1638201599999,\n        \"finishTime\": 1638460799999,\n        \"createTime\": 1638164393000,\n        \"updateTime\": 1656918240000\n      }\n    },\n    \"succeed\": true,\n    \"msg\": \"success\"\n  }\n\n  return data\n}\n\n// 调整热度排行\nexport async function heatAdjust(adjustList: AdjustListItem[]) {\n  return await request(\n    `${requestBasePath}/wingvate/wind-vane-backend/manager/heat/adjust`,\n    {\n      method: 'PUT',\n      body: adjustList,\n    }\n  );\n}\n\n// 调整热度排行\nexport async function heatRecommendationAdjust(\n  adjustList: AdjustRecommentListItem[]\n) {\n  return await request(\n    `${requestBasePath}/wingvate/wind-vane-backend/manager/heat/recommendation/list`,\n    {\n      method: 'PUT',\n      body: adjustList,\n    }\n  );\n}\n\n// 查询单条作品详情\nexport async function getDramaContentById(dramaId: string) {\n  // return await request(\n  //   `${requestBasePath}/wingvate/wind-vane-backend/drama/query/getDramaContentById?dramaId=${dramaId}`\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"message\": \"success\",\n    \"description\": \"\",\n    \"data\": {\n      \"status\": 1,\n      \"dramaId\": \"6946047772109836387\",\n      \"title\": \"我是测试分哈哈哈哈\",\n      \"category\": \"tv-play\",\n      \"platform\": \"[]\",\n      \"coverImage\": \"[\\\"https://x0.ifengimg.com/ucms/2022_27/A38CBAC877EB335986F31F925398E7321C18C031_size1055_w1035_h1035.png\\\"]\",\n      \"description\": \"飞凤飞飞\",\n      \"onlineStatus\": 1,\n      \"publicScore\": 5.795,\n      \"publicScoreDistribution\": \"{\\\"fiveStarCount\\\":30,\\\"fourHalfStarCount\\\":330,\\\"fourStarCount\\\":0,\\\"halfStarCount\\\":20,\\\"oneHalfStarCount\\\":0,\\\"oneStarCount\\\":4,\\\"threeHalfStarCount\\\":11,\\\"threeStarCount\\\":0,\\\"twoHalfStarCount\\\":0,\\\"twoStarCount\\\":605}\",\n      \"performanceScore\": 0.0,\n      \"commentTotal\": 7,\n      \"commentPeople\": 0,\n      \"publicScorePeople\": 1000,\n      \"performanceScorePeople\": 0,\n      \"searchHeat\": 0,\n      \"operator\": \"sunyf1\",\n      \"topDeadline\": 1657524450000,\n      \"showTime\": 1655740799999,\n      \"finishTime\": 1656431999999,\n      \"createTime\": 1656314446000,\n      \"updateTime\": 1656920640000\n    },\n    \"succeed\": true,\n    \"msg\": \"success\"\n  };\n  return  data\n\n}\n\n// 保存片单推荐榜\nexport async function upsertHotList(adjustList: []) {\n  return await request(\n    `${requestBasePath}/wingvate/wind-vane-backend/hot/operate/upsertHotList`,\n    {\n      method: 'POST',\n      body: { dataList: adjustList },\n    }\n  );\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine } from '@antv/g2plot';\nimport useChart from '../hooks/useChart';\nimport { getChart } from '../util';\nimport { ErrorBoundary } from '../base';\nimport ChartLoading from '../util/createLoading';\nvar LineChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotLine, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default LineChart;\n","import React, { FC, useState, useEffect } from 'react';\nimport { withAuthorized } from '@/utils/Authorized';\nimport { Role } from '@/utils/authority';\nimport { Card, Tabs, Row, Col, DatePicker, Button, Space, Statistic, Form, message } from 'antd';\nimport DataInputControl from '@/components/DataInputControl/index';\nimport DataTempleteUpload from '@/components/DataTempleteUpload/index';\nimport ScoreNumberControl from '@/components/ScoreNumberControl/index';\nimport CommentProductionDetail from '@/components/CommentProductionDetail';\nimport DramaContentSearch from '@/components/DramaContentSearch';\nimport { Line } from '@ant-design/charts';\nimport moment from 'moment';\nimport { getAuthority } from '@/utils/authority';\nimport { getGrowTrendList, getPublicScoreTrendList } from './services';\nimport { getDramaContentById } from '../../ContentManage/HotManage/services';\nimport { useLocation } from 'umi';\n\nconst { TabPane } = Tabs;\nconst { RangePicker } = DatePicker;\n\ninterface TimeType {\n  label: string;\n  value: string;\n}\n\ninterface LineDataType {\n  time: string;\n  count: number;\n}\n\ninterface DramaInfo {\n  showTime?: number;\n  finishTime?: number;\n  [key: string]: any;\n}\n\nconst timeTypelist = [\n  { label: '12h', value: '12h', timeType: 'hour', unit: 12 },\n  { label: '24h', value: '24h', timeType: 'hour', unit: 24 },\n  { label: '3天', value: '3d', timeType: 'day', unit: 3 },\n  { label: '一周', value: '7d', timeType: 'day', unit: 7 },\n  { label: '一个月', value: '30d', timeType: 'day', unit: 30 },\n  { label: '完结', value: 'finish', timeType: 'day' }\n];\n\nconst DataControl: FC = () => {\n  const [showDramaDataInfo, setShowDramaDataInfo] = useState(false);\n  const [currentTimeType, setCurrentTimeType] = useState('12h');\n  const [tabActiveKey, setTabActiveKey] = useState('comment');\n  const [growthTrendList, setGrowthTrendList] = useState<LineDataType[]>([]);\n  const [publicScoreTrendList, setPublicScoreTrendList] = useState<LineDataType[]>([]);\n  const [dramaInfo, setDramaInfo] = useState<DramaInfo>({});\n  const [totalGrowTrend, setTotalGrowTrend] = useState(0);\n  const [averageScore, setAverageScore] = useState(0);\n  const [dates, setDates] = useState<any>([]);\n  const userAuthorityList = getAuthority();\n  const location: any = useLocation();\n  const [monthPickerValue, setMonthPickerValue] = useState<any>([]);\n  const showDramaSearch = location?.query?.dramaId;\n  const [dramaSearchForm] = Form.useForm();\n  // 只有系统管理员 展示数据调控区\n  const showDataInputControl = userAuthorityList.includes(Role.SYSTEM);\n  \n\n  /**\n   * 获取所选区间数据，并构建Column组件所需要的数据格式的数据\n   * @param startTime 开始时间\n   * @param endTime 结束时间\n   * @param timeType 时间刻度类型 day | hour | month\n   * @param unit 刻度间隔，相隔小时数、天数或月数\n   * @param dramaId 作品id\n   */\n  const getLineData = (startTime: string, endTime: string, timeType: string, unit: number, activeType?: string, dramaId?: number) => {\n    const formatTypeSet = {\n      'hour': 'YYYYMMDDHH',\n      'day': 'YYYYMMDD',\n      'month': 'YYYYMM',\n    };\n\n    const diffType = {\n      'hour': 'h',\n      'day': 'd',\n      'month': 'months'\n    };\n    const formatType = formatTypeSet[timeType];\n    const currentActiveType = activeType || tabActiveKey;\n    const actionHandle = currentActiveType === 'comment' ? getGrowTrendList : getPublicScoreTrendList;\n\n    actionHandle({\n      timeType,\n      startTime,\n      endTime,\n      dramaId: dramaId || dramaInfo.dramaId\n    }).then((res: any) => {\n      if (res.code === 200) {\n        const { data: responseList = [] } = res;\n        let totalCount = 0;\n\n        responseList.forEach((item: LineDataType) => {\n          totalCount += item.count;\n        });\n        const list: any[] = [];\n        const calculateNum = Number((totalCount / unit).toFixed(0));\n        let totalNum = 0;\n\n        // setAverageNum(calculateNum);\n\n        for (let i = 1; i <= unit; i++) {\n          // key为对应时间刻度下的每一个刻度值\n          const key = moment(endTime, formatType).subtract(unit - i, diffType[timeType]).format(formatType);\n          // 查询当前请求回来数据里面有没有当前时间的数据\n          const existData = responseList.find((r: any) => r.time + '' === key);\n          // 页面展示的时间格式\n          const formatTime = timeType === 'day'\n            ? moment(key, formatType).format('YYYY-MM-DD')\n            : timeType === 'month'\n              ? moment(key, formatType).format('YYYY-MM')\n              : `${ moment(key, formatType).format('HH') }时`;\n\n          if (existData) {\n            \n            list.push({\n              time: formatTime,\n              count: currentActiveType === 'comment' ? existData.count : existData.publicScore\n            });\n            if (currentActiveType === 'comment') {\n              totalNum += existData.count;\n            } else {\n              if (i > 1) {\n                totalNum += existData.publicScore - list[i - 2]['count']; // 评分变化为当前值减去前一个节点的值 的差值和 除以节点数\n              }\n            }\n          } else {\n            list.push({\n              time: formatTime,\n              count: 0\n            });\n            if (currentActiveType === 'score') {\n              if (i > 1) {\n                totalNum += 0 - list[i - 2]['count']; // 评分变化为当前值减去前一个节点的值 的差值和 除以节点数\n              }\n            }\n          }\n        }\n        \n        if (currentActiveType === 'comment') {\n          setGrowthTrendList(list);\n          setTotalGrowTrend(totalNum);\n        } else {\n          setPublicScoreTrendList(list);\n          setAverageScore(Number((totalNum / (unit - 1)).toFixed(1)));\n        }\n      }\n    });\n  };\n\n  // 事件类型change，Tabs切换时，请求数据\n  /**\n   * \n   * @param item 对应timeTypelist中的一项\n   * @param activeTab comment | score\n   * @param dramaId 作品id\n   */\n  const changeTimeType = (item: any, activeTab?: string, dramaId?: number) => {\n    const currentIsMonthPickerSelected = item === ''; // 当前切换时，之前选中的是月份选择组件的值\n    const { showTime = 0, finishTime } = dramaInfo;\n    const realActiveTab = activeTab || tabActiveKey; // 因为useState异步的原因，所以需要传入已保证值的准确性\n\n    setCurrentTimeType(item.value);\n    let timeType, unit, formatType;\n\n    if (!currentIsMonthPickerSelected) {\n      timeType = item.timeType;\n      unit = item.unit;\n      formatType = timeType === 'day' ? 'YYYYMMDD' : 'YYYYMMDDHH';\n    } else {\n      timeType = 'month';\n      formatType = 'YYYYMM';\n    }\n\n    // 完结，取作品的上映时间和完结时间作为起止时间\n    if (item.value === 'finish') {\n      if (!(showTime && finishTime)) {\n        message.warn('当前作品并未设置上映时间或完结时间，请完善');\n        if (realActiveTab === 'comment') {\n          setGrowthTrendList([]);\n        } else {\n          setPublicScoreTrendList([]);\n        }\n\n        return;\n      }\n\n      if (showTime > moment().valueOf()) {\n        message.warn('当前作品还未上映，暂时没有数据！');\n        if (realActiveTab === 'comment') {\n          setGrowthTrendList([]);\n        } else {\n          setPublicScoreTrendList([]);\n        }\n        \n        return;\n      }\n\n      if (finishTime <= showTime) {\n        message.warn('当前作品设置的上映时间晚于完结时间，请修改！');\n        if (realActiveTab === 'comment') {\n          setGrowthTrendList([]);\n        } else {\n          setPublicScoreTrendList([]);\n        }\n\n        return;\n      }\n\n      if (showTime && finishTime) {\n        const diffDays = moment(finishTime).diff(moment(showTime), 'd') + 1; // 计算上映天数\n\n        // 大于30天，按月展示\n        // 否则按照天数展示\n        if (diffDays > 30) {\n          let startTime = moment(showTime).format('YYYYMM'); // 上映时间 月份\n          const endTime = moment(finishTime).format('YYYYMM'); // 完结时间 月份\n          let diffMonths = moment(endTime, 'YYYYMM').diff(moment(startTime, 'YYYYMM'), 'months') + 1; // 月份差值\n\n          // 如果大于24个月，只展示最近24个月的\n          if (diffMonths > 24) {\n            startTime = moment(endTime, 'YYYYMM').subtract(23, 'months').format('YYYYMM');\n            diffMonths = 24;\n          }\n          \n          getLineData(startTime, endTime, 'month', diffMonths, realActiveTab, dramaId);\n        } else {\n          const startTime = moment(showTime).format(formatType);\n          const endTime = moment(finishTime).format(formatType);\n\n          getLineData(startTime, endTime, timeType, diffDays, realActiveTab, dramaId);\n        }\n      }\n    } else {\n      // 当前不是月份选择器\n      if (!currentIsMonthPickerSelected) {\n        let startTime = moment().subtract(unit - 1, timeType === 'day' ? 'd' : 'h').format(formatType);\n        const endTime = moment().format(formatType);\n\n        // 作品还未上映\n        if (showTime > moment().valueOf()) {\n          message.warn('当前作品还未上映，暂时没有数据！');\n          if (realActiveTab === 'comment') {\n            setGrowthTrendList([]);\n          } else {\n            setPublicScoreTrendList([]);\n          }\n\n          return;\n        }\n\n        // 如果上映时间晚于当前所选的时间起始时间，则以上映时间为准\n        if (showTime > moment().subtract(unit - 1, timeType === 'day' ? 'd' : 'h').valueOf()) {\n          startTime = moment(showTime).format(formatType);\n          unit = moment().diff(startTime, timeType === 'day' ? 'd' : 'h') + 1;\n        }\n\n        getLineData(startTime, endTime, timeType, unit, activeTab, dramaId);\n      } else {\n        // 月份选择器\n        const [startMonth, endMonth] = monthPickerValue;\n\n        unit = endMonth.diff(startMonth, 'months') + 1;\n        const showTimeMonth = moment(showTime).format('YYYYMM'); // 作品上映月份\n        let startTime = startMonth.format('YYYYMM');\n        const endTime = endMonth.format('YYYYMM');\n        const showTimeMonthMoment = moment(showTimeMonth, 'YYYYMM');\n\n        if (showTimeMonthMoment.diff(moment(endTime, 'YYYYMM'), 'month') > 0) {\n          message.warn('当前所选区间，该作品还未上映！');\n          if ((tabActiveKey) === 'comment') {\n            setGrowthTrendList([]);\n          } else {\n            setPublicScoreTrendList([]);\n          }\n\n          return;\n        }\n\n        if (showTimeMonthMoment.diff(moment(startTime, 'YYYYMM'), 'month') > 0) {\n          startTime = showTimeMonth;\n          unit = moment(endTime, 'YYYYMM').diff(showTimeMonthMoment, 'months') + 1;\n        }\n\n        getLineData(startTime, endTime, timeType, unit, activeTab, dramaId);\n      }\n    }\n  };\n  \n  // 时间选择器change事件\n  const rangePickerChange = (value: any) => {\n    if (value.length) {\n      const { showTime = 0 } = dramaInfo;\n      const [startMonth, endMonth] = value;\n      let unit = endMonth.diff(startMonth, 'months') + 1;\n      const showTimeMonth = moment(showTime).format('YYYYMM'); // 作品上映月份\n      let startTime = startMonth.format('YYYYMM');\n      const endTime = endMonth.format('YYYYMM');\n      const showTimeMonthMoment = moment(showTimeMonth, 'YYYYMM');\n\n      if (showTimeMonthMoment.diff(moment(endTime, 'YYYYMM'), 'month') > 0) {\n        message.warn('当前所选区间，该作品还未上映！');\n        if ((tabActiveKey) === 'comment') {\n          setGrowthTrendList([]);\n        } else {\n          setPublicScoreTrendList([]);\n        }\n\n        return;\n      }\n\n      if (showTimeMonthMoment.diff(moment(startTime, 'YYYYMM'), 'month') > 0) {\n        startTime = showTimeMonth;\n        unit = moment(endTime, 'YYYYMM').diff(showTimeMonthMoment, 'months') + 1;\n      }\n      \n\n      setMonthPickerValue(value);\n      setCurrentTimeType('');\n      getLineData(startTime, endTime, 'month', unit);\n    }\n    \n  };\n\n  // 获取当前折线图的配置\n  /**\n   * \n   * @param type comment | score\n   * @returns \n   */\n  const getConfig = (type: string) => {\n    return ({\n      data: type === 'comment' ? growthTrendList : publicScoreTrendList,\n      // smooth: true, // 平滑折线\n      xField: 'time',\n      yField: 'count',\n      label: {},\n      point: {\n        size: 5,\n        shape: 'diamond',\n        style: {\n          fill: 'white',\n          stroke: '#5B8FF9',\n          lineWidth: 2,\n        },\n      },\n      tooltip: {\n        formatter: (datum: any) => {\n          return { name: tabActiveKey === 'comment' ? '评价' : '评分', value: datum.count };\n        }\n      },\n      state: {\n        active: {\n          style: {\n            shadowColor: 'yellow',\n            shadowBlur: 4,\n            stroke: 'transparent',\n            fill: 'red',\n          },\n        },\n      },\n      theme: {\n        geometries: {\n          point: {\n            diamond: {\n              active: {\n                style: {\n                  shadowColor: '#FCEBB9',\n                  shadowBlur: 2,\n                  stroke: '#F6BD16',\n                },\n              },\n            },\n          },\n        },\n      },\n      interactions: [{ type: 'marker-active' }],\n    });\n  };\n\n  // Tab变化 \n  /**\n   * \n   * @param value comment | score\n   */\n  const tabsChange = (value: string) => {\n    setTabActiveKey(value);\n    const currentActiveTimeData = timeTypelist.find((r: any) => r.value === currentTimeType) || ''; // 找不到的时候说明当前是月份选择器\n    \n    changeTimeType(currentActiveTimeData, value);\n  };\n\n  const queryDrama = (labelValue: any) => {\n    console.log('values:', labelValue);\n    \n    const dramaId = labelValue.value;\n\n    console.log('dramaId:', dramaId);\n    \n\n    if (dramaId) {\n      getDramaContentById(dramaId).then((res: any) => {\n        if (res.code === 200) {\n          setDramaInfo(res?.data || {});\n          setShowDramaDataInfo(true);\n          setTabActiveKey('comment');\n          changeTimeType(timeTypelist[0], 'comment', dramaId);\n        }\n      });\n    }\n  };\n  \n  useEffect(() => {\n    const dramaId = location?.query?.dramaId;\n\n    // 根据地址栏有无dramaId判断页面是否需要展示作品搜索区域\n    if (dramaId) {\n      getDramaContentById(dramaId).then((res: any) => {\n        if (res.code === 200) {\n          setDramaInfo(res?.data || {});\n          setShowDramaDataInfo(true);\n          setTabActiveKey('comment');\n          changeTimeType(timeTypelist[0], 'comment', dramaId);\n        }\n      });\n    }\n  }, []);\n\n  // 不能超过本月，且起始和结束之间月份不能超过24\n  const disabledDate = (current: any) => {\n    if (current.diff(moment()) > 0) {\n      return true;\n    }\n    if (!dates || dates.length === 0) {\n      return false;\n    }\n    const tooLate = dates[0] && current.diff(dates[0], 'months') > 22;\n    const tooEarly = dates[1] && dates[1].diff(current, 'months') > 22;\n\n    return tooEarly || tooLate;\n  };\n\n  // 数据调控成功的回调\n  const dataInputSuccessHandle = () => {\n    tabsChange(tabActiveKey);\n  };\n\n  // 评分人数调控成功的回调\n  const scoreNumberchangeSuccessHandle = () => {\n    tabsChange(tabActiveKey);\n  };\n  \n  return (\n    <div>\n      {!showDramaSearch && (\n        <Card title=\"作品搜索\" size=\"small\">\n          <Form onFinish={ queryDrama } form={ dramaSearchForm }>\n            <Row gutter={ 24 }>\n              <Col span={ 8 }>\n                <Form.Item name=\"drama\" rules={ [{ required: true, message: '请先选择作品后再查询' }] }>\n                  <DramaContentSearch onChange={ queryDrama } />\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Card>)}\n      {showDramaDataInfo && (\n        <React.Fragment>\n          <Card style={{ marginTop: '20px' }}>\n            <CommentProductionDetail productionId={ dramaInfo.dramaId } />\n          </Card>\n          <Card style={{ marginTop: '20px' }}\n            title={ dramaInfo.showTime && dramaInfo.finishTime\n              ? `作品上映、完结时间：${ moment(dramaInfo.showTime).format('YYYY-MM-DD') }~${ moment(dramaInfo.finishTime).format('YYYY-MM-DD') }`\n              : '' }>\n            <Tabs activeKey={ tabActiveKey }\n              onChange={ tabsChange }\n              tabBarExtraContent={ (\n                <Row justify=\"space-between\" gutter={ 16 }>\n                  {timeTypelist.map((item: TimeType) => (\n                    <Col key={ item.value }>\n                      <Button type={ currentTimeType === item.value ? 'primary' : 'text' }\n                        onClick={ () => changeTimeType(item) }\n                      >{item.label}\n                      </Button>\n                    </Col>))}\n                  <Col>\n                    <RangePicker picker=\"month\"\n                      onChange={ rangePickerChange }\n                      disabledDate={ disabledDate }\n                      onCalendarChange={ (val: any) => setDates(val) }\n                    />\n                  </Col>\n                </Row>\n              ) }>\n              <TabPane tab=\"评价数\" key=\"comment\">\n                <div>\n                  <Space direction=\"vertical\">\n                    <span>总评价数</span>\n                    <Statistic value={ totalGrowTrend } style={{ marginRight: '10px' }} />\n                  </Space>\n                </div>\n                <Line { ...getConfig('comment') } />\n              </TabPane>\n              <TabPane tab=\"评分变化\" key=\"score\">\n                <div>\n                  <Space direction=\"vertical\">\n                    <span>平均评分变化</span>\n                    <Statistic value={ averageScore } style={{ marginRight: '10px' }} />\n                  </Space>\n                </div>\n                <Line { ...(getConfig('score')) } />\n              </TabPane>\n            </Tabs>\n          </Card>\n          {showDataInputControl && (\n            <Card title=\"评分人数调控\" style={{ marginTop: '20px' }}>\n              <ScoreNumberControl dramaInfo={ dramaInfo } />\n            </Card>\n          )}\n          {showDataInputControl && (\n            <Card title=\"评分调控（输入调控）\" style={{ marginTop: '20px' }}>\n              <DataInputControl dramaId={ location?.query?.dramaId || (dramaSearchForm.getFieldValue('drama'))?.value }\n                successHandle={ dataInputSuccessHandle }\n              />\n            </Card>)}\n          {showDataInputControl && (\n            <Card title=\"灌评\" style={{ marginTop: '20px' }}>\n              <DataTempleteUpload dramaId={ location?.query?.dramaId || (dramaSearchForm.getFieldValue('drama'))?.value }\n                successHandle={ dataInputSuccessHandle }\n              />\n            </Card>\n          )}\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default withAuthorized(DataControl, [Role.SYSTEM, Role.WORKS, Role.COMMENT, Role.EXPERT]);\n// export default DataControl;\n","import { stringify } from 'qs';\nimport useSWR from '@/hooks/useSWR';\nimport request from '@/utils/request';\nimport cookie from '@/utils/cookie.js';\n\nimport { requestBasePath } from '@/services/login';\n\nexport const BUSINESS_ID = 'com_wind_vane';\n\n\n// 移入黑名单 POST  http://test0.galio.ifeng.com/api/picus-namelist/addNameList\nexport function enterBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/addNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 移出黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/removeNameList\nexport function outBlackList(params: any) {\n  return request(`${ requestBasePath }/blackList/api/picus-namelist/removeNameList`, {\n    method: 'POST',\n    body: params\n  });\n}\n\n// 查询黑名单 POST http://test0.galio.ifeng.com/api/picus-namelist/queryNameList\nexport function useGetBlackList(requestBody: any) {\n  // const { data, isValidating, mutate } = useSWR(\n  //   requestBody ? [`${ requestBasePath }/blackList/api/picus-namelist/queryNameList`, requestBody] : null, {\n  //     requestParams: {\n  //       method: 'POST',\n  //       body: requestBody\n  //     }\n  //   }\n  // );\n\n  const data = {\n    \"code\": 200,\n    \"level\": 200,\n    \"msg\": \"success\",\n    \"data\": {\n      \"pagination\": {\n        \"current\": 1,\n        \"total\": 1,\n        \"pageSize\": 10,\n        \"countPage\": 1\n      },\n      \"sort\": {\n        \"type\": \"desc\",\n        \"key\": \"createTime\"\n      },\n      \"list\": [{\n        \"typeContent\": \"黑名单\",\n        \"createTime\": \"2022-04-25 10:44:09\",\n        \"businessId\": \"com_wind_vane\",\n        \"description\": \"Honeycomb\",\n        \"updateTime\": \"2022-04-25 10:44:09\",\n        \"id\": 882941,\n        \"category\": \"userId\",\n        \"deadline\": \"2122-04-25 10:44:09\",\n        \"content\": \"6903959929825005666\",\n        \"operator\": \"maoliang\",\n        \"status\": 1\n      }]\n    }\n  }\n  const isValidating = false\n  const mutate = () => { }\n\n  return {\n    blackList: data?.data?.list || [],\n    pagination: data?.data?.pagination || {},\n    isValidating,\n    mutate\n  };\n}","function debounce(func, wait, imme) {\n  let timer;\n\n  return function() {\n    if (imme && !timer) {\n      func.apply(this, arguments);\n    }\n    timer && clearTimeout(timer);\n    timer = setTimeout(() => func.apply(this, arguments), wait);\n  };\n}\n\nexport { debounce };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { getTransitionName } from '../_util/motion';\nvar Popover = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var customizePrefixCls = _a.prefixCls,\n      title = _a.title,\n      content = _a.content,\n      otherProps = __rest(_a, [\"prefixCls\", \"title\", \"content\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var getOverlay = function getOverlay(prefixCls) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, getRenderPropValue(content)));\n  };\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, otherProps, {\n    prefixCls: prefixCls,\n    ref: ref,\n    overlay: getOverlay(prefixCls),\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', otherProps.transitionName)\n  }));\n});\nPopover.displayName = 'Popover';\nPopover.defaultProps = {\n  placement: 'top',\n  trigger: 'hover',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  overlayStyle: {}\n};\nexport default Popover;"],"sourceRoot":""}